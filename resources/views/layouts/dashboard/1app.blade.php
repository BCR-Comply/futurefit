<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>{{ config('app.name', 'Laravel') }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}" />
    <meta content="dashboard" name="author" />
    <!-- App favicon -->
    {{-- <link rel="shortcut icon" href="{{ asset('assets/images/favicon.ico') }}"> --}}

    <!-- App css -->
    <link href="{{ asset('assets/css/_vendor/dataTables.bootstrap5.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/_vendor/responsive.bootstrap5.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/_vendor/buttons.dataTables.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/icons.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('assets/css/app.css') }}" rel="stylesheet" type="text/css" id="app-style" />
    <link href="{{ asset('assets/css/customcss.css') }}" rel="stylesheet" type="text/css" id="app-style" />
    <link href="{{ asset('assets/plugins/select2/select2.min.css') }}" rel="stylesheet" type="text/css" />
    @stack('styles')



    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
        integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <style>
        .card{
            border-radius: 6px !important;
        }
        .bg-grasy,.justify-content-between.bg-graycard{
            background-color: #fff !important;
            border: 0.5px solid #1A47A3 !important;
            /* border-radius: 6px !important; */
        }
        .card-body.mybody,.card.mybody._shadow-1{
            background-color: #fff !important;
        }
        .col-12.pt-3.bg-gray,.col-12.bg-gray,.col-12.mt-3.card,.col-sm-12.card.mt-3.text-black,div.row > div.col-12 > .my-1.card,.card.pl-2{
            background-color: #fff !important;
            border: 0.5px solid #1A47A3 !important;
        }
        
        .totalIsRead{
            position: absolute;
            right: 8px;
            top: 8px;
            min-width: 15px;
            min-height: 15px;
            background-color: #1A47A3;
            display: flex;
            justify-content: center;
            color: #fff;
            border-radius: 36px;
            width: auto;
            height: auto;
            font-size: 10px;
            font-weight: 600;
        }
        .newMessageC{
            background-color: #afcaff !important;
            color: #1A47A3;
        }
        .dropdown-item.mark-read {
            color: #1A47A3 !important;
            margin: 5px 10px !important;
            justify-content: start !important;
            gap: 5px;
        }

        ::-webkit-scrollbar {
            width: 4px;
        }

        table tbody tr {
            vertical-align: middle !important;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            box-shadow: inset 0 0 5px #eaf1ff;
            border-radius: 36px;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #1A47A3;
            border-radius: 10px;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #1A47A3;
        }

        .myNewMenu {
            left: -15.5pc;
            max-height: 400px;
            overflow-y: scroll;
        }

        .myNewMenu>.dropdown-item {
            background: #eaf1ff;
            margin: 5px;
            width: -webkit-fill-available;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menClr {
            color: #1A47A3 !important;
            cursor: pointer;
        }

        .dropdown-item:focus,
        .dropdown-item:hover {
            background-color: #EAF1FF !important;
            color: #1A47A3 !important;
        }

        .cusmarg {
            margin: 13px 0px 13px 13px !important;
        }

        .alert {
            margin-top: 10px;
        }

        tr td:not(:last-child),
        tr th:not(:last-child) {
            border-right: unset !important;
        }

        .mysvgmsg {
            width: 20px;
            height: 20px;
            margin-right: 7px;
        }

        .mynew2 {
            margin-top: 22px;
            margin-right: 20px;
        }

        .simplebar-mask {
            top: 30px !important;
        }

        @media (max-width: 576px) {
            .navbar-custom .dropdown .dropdown-menu {
                transform: translate3d(10px, 54px, 0px) !important;
            }

            .mynew2>div.dropdown-menu.show {
                width: 350px !important;
                transform: translate3d(0px, 50px, 0px) !important;
            }

            .notification-counter {
                right: 6pc !important;
                top: 1pc !important;
            }

            .mynew1 {
                position: initial;
                margin-right: 20px !important;
            }
        }

        th,
        td {
            font-size: 12px;
        }

        * {
            font-family: Roboto;
        }

        .propcsv2 {
            cursor: pointer;
        }

        .dgrid2 {
            display: grid !important;
            padding: 10px;
        }

        .badge-warning {
            background-color: #f68500 !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #fff !important;
        }

        .badge-success {
            background-color: #0eb50b !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #fff !important;
        }

        .badge-success-light {
            background-color: #ffd600 !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #333 !important;
        }

        .badge-danger {
            background-color: #FF3636 !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #fff !important;
        }

        .badge-infos {
            background-color: #e2e8ed !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #333 !important;
        }

        .badge-info {
            background-color: #0d187c !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #fff !important;
        }

        .badge-warning-light {
            background-color: #ffa70f !important;
            padding: 4px 10px !important;
            border-radius: 4px !important;
            font-size: 8px !important;
            color: #fff !important;
        }

        .notification-counter {
            position: absolute;
            right: 0px;
            top: 1px;
            background-color: #FF3636;
            color: #ffffff;
            padding: 3px 5.5px;
            border-radius: 50px;
            line-height: 1;
            font-size: 8px;
        }

        .rotate180 {
            transform: rotate(180deg) !important;
        }

        @media (max-width: 767.98px) {
            .leftside-menu>a.logo-light {
                margin-top: 4.5rem !important;
            }

            .simplebar-content>ul.side-nav {
                margin-top: 5.5rem !important;
            }
        }

        .msg-counter {
            position: absolute;
            right: -2px;
            top: 1px;
            background-color: #FF3636;
            color: #ffffff;
            padding: 3px 5.5px;
            border-radius: 50px;
            line-height: 1;
            font-size: 8px;
        }

        .mynewNoti {
            color: #333;
            background-color: #eaf1ff;
            padding: 10px 7px;
            margin: 3px 10px !important;
            width: -webkit-fill-available;
            border-radius: 5px;
        }

        .mynew2>div.dropdown-menu.show {
            /* word-break: break-all; */
            max-width: 450px;
            width: 450px;
        }

        .mynewNoti>div.col>a.dropdown-item {
            white-space: wrap;
        }

        body[data-leftbar-theme="dark"][data-leftbar-compact-mode="condensed"] .side-nav .side-nav-item:hover .side-nav-link {
            background: #F1F5F8 !important;
        }

        .mark-read {
            color: #4d6e96;
        }

        body[data-leftbar-compact-mode="condensed"]:not(.authentication-bg) .wrapper .footer,
        body[data-leftbar-compact-mode="condensed"]:not(.authentication-bg) .wrapper .navbar-custom {
            left: 96px;
        }

        body[data-leftbar-compact-mode="condensed"]:not(.authentication-bg) .wrapper .leftside-menu {
            width: 80px !important;
        }

        a.side-nav-link>i,
        a.side-nav-link>span,
        a._nav-item-text>i,
        a._nav-item-text>span {
            color: #797B7C !important;
        }

        .content-page {
            background-color: #fff !important;
        }

        body[data-leftbar-theme="dark"] .leftside-menu .logo {
            background: #F1F5F8 !important;
        }

        body[data-leftbar-theme="dark"] .leftside-menu {
            background: #F1F5F8 !important;
        }

        body[data-leftbar-theme="dark"] .side-nav .menuitem-active>a {
            background-color: #EAF1FF !important;
        }

        body[data-leftbar-theme="dark"] .side-nav .menuitem-active>a>i,
        body[data-leftbar-theme="dark"] .side-nav .menuitem-active>a>span {
            color: #1A47A3 !important;
        }

        body[data-leftbar-theme="dark"] .side-nav .menuitem-active>a>svg>path {
            fill: #1A47A3 !important;
        }

        ._nav-item-text:hover {
            color: #1A47A3 !important;
        }

        ._nav-item-text>span:hover {
            color: #1A47A3 !important;
        }

        .side-nav-link._nav-item-text,
        .side-nav-second-level {
            background-color: #f1f5f8 !important;
        }

        .mybody {
            background-color: #fff !important;
            border-radius: 5px !important;
        }

        table {
            background-color: #fff !important;
            border-radius: 8px !important;
            border-color: transparent !important;
        }

        tr:last-child td:first-child {
            border-bottom-left-radius: 8px !important;
        }

        tr th {
            border-bottom: 1px solid #e2e8ed;
        }

        tr td:not(:last-child),
        tr th:not(:last-child) {
            border-right: 1px solid #e2e8ed;
        }

        tr:last-child td:last-child {
            border-bottom-right-radius: 8px !important;
        }

        a.mynewDropDown>div.namelogoMax {
            font-family: Arial, sans-serif;
            font-size: 24px;
            color: #333;
            background-color: #eee;
            border-radius: 5px;
            display: inline-block;
            margin: 5px;
        }

        .dropdown-item.mark-read.see-all-message {
            display: flex !important;
            justify-content: center !important;
            background: #fff !important;
            border: 1px solid #1A47A3 !important;
            border-radius: 36px !important;
            padding: 10px 0px !important;
            color: #1a47a3 !important;
            width: auto !important;
        }
        ._btn-dangers{
            border-radius: 6px !important;
        }
    </style>

</head>

<body class="loading" data-layout-color="light" data-leftbar-theme="dark" data-layout-mode="fluid"
    data-rightbar-onstart="true">
    <!-- Begin page -->
    <div class="wrapper">
        <!-- ========== Left Sidebar Start ========== -->
        <div class="leftside-menu">

            <!-- LOGO -->

            <a href="/dashboard" class="mt-1 pl-1 logo text-center logo-light">
                <span class="logo-lg logo-lg2">
                    {{-- <img src="{{ asset('assets/images/logo.png') }}" class="img-fluid" style="max-height: 130px"> --}}

                    <svg class="pl-2 pr-2 pt-2 pb-2" id="Layer_1" data-name="Layer 1"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 1110 502">
                        <defs>
                            <style>
                                .cls-1 {
                                    fill: #1a47a3;
                                }

                                .cls-2 {
                                    fill: #fff;
                                }

                                .cls-3 {
                                    fill: url(#linear-gradient);
                                }

                                .cls-4 {
                                    fill: url(#linear-gradient-2);
                                }

                                .cls-5 {
                                    fill: url(#linear-gradient-3);
                                }

                                .cls-6 {
                                    fill: url(#linear-gradient-4);
                                }

                                .cls-7 {
                                    fill: url(#linear-gradient-5);
                                }

                                .cls-8 {
                                    fill: url(#linear-gradient-6);
                                }

                                .cls-9 {
                                    fill: url(#linear-gradient-7);
                                }

                                .cls-10 {
                                    fill: url(#linear-gradient-8);
                                }

                                .cls-11 {
                                    fill: url(#linear-gradient-9);
                                }

                                .cls-12 {
                                    fill: url(#linear-gradient-10);
                                }

                                .cls-13 {
                                    fill: url(#linear-gradient-11);
                                }

                                .cls-14 {
                                    opacity: 0.5;
                                    fill: url(#radial-gradient);
                                }
                            </style>
                            <linearGradient id="linear-gradient" x1="136.75" y1="248.86" x2="136.75"
                                y2="53.63" gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#009ddc" />
                                <stop offset="1" stop-color="#67b8e7" />
                            </linearGradient>
                            <linearGradient id="linear-gradient-2" x1="337.35" y1="248.86" x2="337.35"
                                y2="53.63" xlink:href="#linear-gradient" />
                            <linearGradient id="linear-gradient-3" x1="548.1" y1="248.86" x2="548.1"
                                y2="53.63" xlink:href="#linear-gradient" />
                            <linearGradient id="linear-gradient-4" x1="80.36" y1="255.11" x2="80.36"
                                y2="411.83" gradientUnits="userSpaceOnUse">
                                <stop offset="0" stop-color="#e06c6d" />
                                <stop offset="1" stop-color="#d5244c" />
                            </linearGradient>
                            <linearGradient id="linear-gradient-5" x1="186" y1="255.11" x2="186"
                                y2="411.83" xlink:href="#linear-gradient-4" />
                            <linearGradient id="linear-gradient-6" x1="323.91" y1="255.11" x2="323.91"
                                y2="411.83" xlink:href="#linear-gradient-4" />
                            <linearGradient id="linear-gradient-7" x1="463.79" y1="255.11" x2="463.79"
                                y2="411.83" xlink:href="#linear-gradient-4" />
                            <linearGradient id="linear-gradient-8" x1="538.16" y1="255.11" x2="538.16"
                                y2="411.83" xlink:href="#linear-gradient-4" />
                            <linearGradient id="linear-gradient-9" x1="608.37" y1="255.11" x2="608.37"
                                y2="411.83" xlink:href="#linear-gradient-4" />
                            <linearGradient id="linear-gradient-10" x1="718.64" y1="163.48" x2="970.1"
                                y2="163.48" xlink:href="#linear-gradient" />
                            <linearGradient id="linear-gradient-11" x1="703.18" y1="192.17" x2="1075.38"
                                y2="192.17" xlink:href="#linear-gradient-4" />
                            <radialGradient id="radial-gradient" cx="790.05" cy="189.79" r="37.92"
                                gradientTransform="translate(0 314.58) scale(1 0.2)" gradientUnits="userSpaceOnUse">
                                <stop offset="0" />
                                <stop offset="1" stop-opacity="0" />
                            </radialGradient>
                        </defs>
                        <rect class="cls-1" x="702.75" y="371.65" width="373.19" height="89.85" rx="10.89" />
                        <path class="cls-2"
                            d="M816.85,437.89a1.21,1.21,0,0,1-.13.6,1,1,0,0,1-.62.41,6.32,6.32,0,0,1-1.43.23c-.63,0-1.49.06-2.57.06-.91,0-1.64,0-2.18-.06a5,5,0,0,1-1.29-.25,1.41,1.41,0,0,1-.67-.45,2.45,2.45,0,0,1-.32-.67l-3.78-9.41c-.46-1.07-.9-2-1.34-2.84a8.94,8.94,0,0,0-1.45-2.06,5.13,5.13,0,0,0-1.84-1.26,6.4,6.4,0,0,0-2.41-.42h-2.67v16.06a.9.9,0,0,1-.21.58,1.35,1.35,0,0,1-.7.42,7.1,7.1,0,0,1-1.3.27,24.08,24.08,0,0,1-4.16,0,7.19,7.19,0,0,1-1.32-.27,1.28,1.28,0,0,1-.68-.42.94.94,0,0,1-.19-.58V399.55a2.58,2.58,0,0,1,.73-2.06,2.64,2.64,0,0,1,1.81-.64H799c1.1,0,2,0,2.73.07s1.37.09,2,.16a17.57,17.57,0,0,1,4.57,1.24,11,11,0,0,1,3.46,2.29,9.7,9.7,0,0,1,2.16,3.36,12.23,12.23,0,0,1,.75,4.44,13,13,0,0,1-.54,3.86,9.52,9.52,0,0,1-1.58,3.11,10.11,10.11,0,0,1-2.57,2.38,13.61,13.61,0,0,1-3.48,1.63,9.32,9.32,0,0,1,3.33,2.69,15.74,15.74,0,0,1,1.39,2.11,28.47,28.47,0,0,1,1.27,2.69l3.55,8.31c.32.82.54,1.43.65,1.8A3.41,3.41,0,0,1,816.85,437.89Zm-11-28.6a6.21,6.21,0,0,0-.94-3.51,5.11,5.11,0,0,0-3.1-2,10.73,10.73,0,0,0-1.48-.26,19.57,19.57,0,0,0-2.3-.1h-3.84v12h4.37a10.55,10.55,0,0,0,3.19-.44,6.24,6.24,0,0,0,2.28-1.24,5.06,5.06,0,0,0,1.37-1.9A6.56,6.56,0,0,0,805.81,409.29Z" />
                        <path class="cls-2"
                            d="M848.51,422.52a3.13,3.13,0,0,1-.67,2.21,2.37,2.37,0,0,1-1.84.72H828.32a11.81,11.81,0,0,0,.44,3.37,6.35,6.35,0,0,0,1.4,2.57,5.94,5.94,0,0,0,2.47,1.61,10.59,10.59,0,0,0,3.64.56,20,20,0,0,0,3.77-.31,25.57,25.57,0,0,0,2.82-.68c.79-.25,1.45-.48,2-.69a3.6,3.6,0,0,1,1.27-.31.91.91,0,0,1,.49.12.85.85,0,0,1,.33.4,3.36,3.36,0,0,1,.18.83c0,.36,0,.81,0,1.36s0,.88,0,1.22a6.19,6.19,0,0,1-.1.86,2.12,2.12,0,0,1-.19.6,2.43,2.43,0,0,1-.34.47,3.77,3.77,0,0,1-1.16.62,18.23,18.23,0,0,1-2.41.77c-1,.25-2.1.46-3.35.65a28.58,28.58,0,0,1-4,.28,21.37,21.37,0,0,1-6.79-1,12.06,12.06,0,0,1-4.87-3,12.3,12.3,0,0,1-2.92-5,23.59,23.59,0,0,1-1-7.1,22.73,22.73,0,0,1,1-7,14.58,14.58,0,0,1,2.93-5.27,12.52,12.52,0,0,1,4.68-3.31,16,16,0,0,1,6.2-1.14,16.21,16.21,0,0,1,6.24,1.08,11.25,11.25,0,0,1,4.25,3,11.94,11.94,0,0,1,2.44,4.51,19.61,19.61,0,0,1,.78,5.66Zm-7.94-2.35a8.43,8.43,0,0,0-1.39-5.42,5.37,5.37,0,0,0-4.58-2,5.83,5.83,0,0,0-2.72.59,5.56,5.56,0,0,0-1.92,1.57,7.29,7.29,0,0,0-1.17,2.35,11.56,11.56,0,0,0-.47,2.88Z" />
                        <path class="cls-2"
                            d="M872,435a10.19,10.19,0,0,1-.18,2.2,2.49,2.49,0,0,1-.47,1.08,2.72,2.72,0,0,1-.87.55,7.46,7.46,0,0,1-1.33.42,12.9,12.9,0,0,1-1.67.28,15.39,15.39,0,0,1-1.8.1,13.12,13.12,0,0,1-4.24-.62,7,7,0,0,1-3-1.91,7.87,7.87,0,0,1-1.73-3.24,17,17,0,0,1-.55-4.62V414.37h-3.49c-.41,0-.72-.25-.94-.76a7,7,0,0,1-.33-2.56,11.78,11.78,0,0,1,.09-1.59,3.64,3.64,0,0,1,.24-1,1.17,1.17,0,0,1,.41-.54,1,1,0,0,1,.57-.16h3.45v-6.48a1,1,0,0,1,.18-.59,1.34,1.34,0,0,1,.65-.44,5.39,5.39,0,0,1,1.27-.26c.53,0,1.19-.08,2-.08s1.47,0,2,.08a5.18,5.18,0,0,1,1.26.26,1.51,1.51,0,0,1,.65.44,1,1,0,0,1,.19.59v6.48h6.32a1,1,0,0,1,.57.16,1.17,1.17,0,0,1,.41.54,3.64,3.64,0,0,1,.24,1,11.78,11.78,0,0,1,.09,1.59,7,7,0,0,1-.33,2.56c-.22.51-.53.76-.94.76h-6.36V428a6.78,6.78,0,0,0,.75,3.57,2.91,2.91,0,0,0,2.67,1.19,5.29,5.29,0,0,0,1.18-.12,6.9,6.9,0,0,0,.93-.26c.27-.1.5-.18.68-.26a1.42,1.42,0,0,1,.5-.11.76.76,0,0,1,.38.11.81.81,0,0,1,.28.46,7.61,7.61,0,0,1,.17.93A10.14,10.14,0,0,1,872,435Z" />
                        <path class="cls-2"
                            d="M896.59,411.54c0,.78,0,1.42-.07,1.92a6.17,6.17,0,0,1-.19,1.17,1.1,1.1,0,0,1-.35.59.84.84,0,0,1-.53.16,1.69,1.69,0,0,1-.59-.11l-.73-.24c-.27-.09-.57-.17-.9-.25a5,5,0,0,0-1.07-.11,3.71,3.71,0,0,0-1.37.27,6,6,0,0,0-1.42.87,10.34,10.34,0,0,0-1.53,1.56,26.74,26.74,0,0,0-1.71,2.41v18.11a.87.87,0,0,1-.19.57,1.51,1.51,0,0,1-.67.41,5.53,5.53,0,0,1-1.26.24,24.67,24.67,0,0,1-4,0,5.43,5.43,0,0,1-1.25-.24,1.45,1.45,0,0,1-.67-.41.88.88,0,0,1-.2-.57V408.84a1,1,0,0,1,.17-.57,1.11,1.11,0,0,1,.58-.41,4.44,4.44,0,0,1,1.09-.24,13.05,13.05,0,0,1,1.68-.09,13.69,13.69,0,0,1,1.73.09,3.79,3.79,0,0,1,1.06.24,1.14,1.14,0,0,1,.53.41,1,1,0,0,1,.17.57v3.61a22.34,22.34,0,0,1,2.15-2.68,11.62,11.62,0,0,1,1.92-1.68,6,6,0,0,1,1.82-.86,6.78,6.78,0,0,1,1.83-.25c.28,0,.58,0,.91,0a10,10,0,0,1,1,.16,9.42,9.42,0,0,1,.91.26,1.83,1.83,0,0,1,.57.31,1,1,0,0,1,.26.36,3.85,3.85,0,0,1,.15.54,8.68,8.68,0,0,1,.09,1C896.58,410.14,896.59,410.76,896.59,411.54Z" />
                        <path class="cls-2"
                            d="M930.2,423.07a22.3,22.3,0,0,1-1,6.78,14.26,14.26,0,0,1-3,5.27,13.19,13.19,0,0,1-5,3.42,18.81,18.81,0,0,1-7,1.21,19.1,19.1,0,0,1-6.74-1.08,12,12,0,0,1-4.75-3.12A13,13,0,0,1,900,430.5a23.8,23.8,0,0,1-.91-6.84,21.75,21.75,0,0,1,1-6.79,14.18,14.18,0,0,1,3-5.28,13.19,13.19,0,0,1,5-3.4,18.47,18.47,0,0,1,7-1.21,19.4,19.4,0,0,1,6.77,1.06,11.78,11.78,0,0,1,4.74,3.11,13,13,0,0,1,2.79,5.05A23.57,23.57,0,0,1,930.2,423.07Zm-8.44.33a21.1,21.1,0,0,0-.34-4,9.35,9.35,0,0,0-1.15-3.14,5.88,5.88,0,0,0-2.17-2.09,7,7,0,0,0-3.4-.75,7.32,7.32,0,0,0-3.2.67,5.77,5.77,0,0,0-2.24,1.95,9.22,9.22,0,0,0-1.32,3.1,17.64,17.64,0,0,0-.44,4.12,20.37,20.37,0,0,0,.36,4A9.89,9.89,0,0,0,909,430.4a5.54,5.54,0,0,0,2.17,2.07,7.09,7.09,0,0,0,3.39.73,7.21,7.21,0,0,0,3.22-.67,5.76,5.76,0,0,0,2.25-1.94,9,9,0,0,0,1.3-3.07A18.33,18.33,0,0,0,921.76,423.4Z" />
                        <path class="cls-2"
                            d="M954.2,397.76c0,.63,0,1.14-.06,1.52a3.11,3.11,0,0,1-.2.88.94.94,0,0,1-.29.42.59.59,0,0,1-.36.11,1.23,1.23,0,0,1-.5-.11,6,6,0,0,0-.69-.24,9.36,9.36,0,0,0-1-.25,7,7,0,0,0-1.3-.11,3.81,3.81,0,0,0-1.51.27,2.51,2.51,0,0,0-1.06.88,4.1,4.1,0,0,0-.62,1.57,12.08,12.08,0,0,0-.2,2.36v2.67h5.31a.93.93,0,0,1,.54.16,1.24,1.24,0,0,1,.41.54,3.64,3.64,0,0,1,.24,1,14,14,0,0,1,.08,1.59,7.33,7.33,0,0,1-.32,2.56,1,1,0,0,1-1,.76h-5.31v23.52a.87.87,0,0,1-.19.57,1.49,1.49,0,0,1-.65.41,5.41,5.41,0,0,1-1.27.24,19,19,0,0,1-2,.08,18.34,18.34,0,0,1-2-.08,5.52,5.52,0,0,1-1.27-.24,1.32,1.32,0,0,1-.65-.41.92.92,0,0,1-.18-.57V414.37h-3.65c-.41,0-.72-.25-.93-.76a7.38,7.38,0,0,1-.31-2.56,14,14,0,0,1,.08-1.59,4.56,4.56,0,0,1,.23-1,1.15,1.15,0,0,1,.39-.54,1,1,0,0,1,.57-.16h3.62v-2.44a20.65,20.65,0,0,1,.58-5.2,9.44,9.44,0,0,1,1.84-3.71,7.75,7.75,0,0,1,3.2-2.23,12.61,12.61,0,0,1,4.57-.75,13.26,13.26,0,0,1,2.41.21,10.1,10.1,0,0,1,1.79.46,2.76,2.76,0,0,1,.88.45,1.6,1.6,0,0,1,.38.62,4.22,4.22,0,0,1,.21,1C954.18,396.61,954.2,397.13,954.2,397.76Z" />
                        <path class="cls-2"
                            d="M968.35,399c0,1.65-.33,2.79-1,3.42s-1.92.95-3.74.95-3.09-.31-3.73-.92a4.44,4.44,0,0,1-1-3.29,4.7,4.7,0,0,1,1-3.43c.66-.64,1.92-1,3.76-1s3.07.31,3.72.93A4.46,4.46,0,0,1,968.35,399Zm-.62,38.89a.87.87,0,0,1-.19.57,1.45,1.45,0,0,1-.67.41,5.43,5.43,0,0,1-1.25.24,24.79,24.79,0,0,1-4,0,5.43,5.43,0,0,1-1.25-.24,1.51,1.51,0,0,1-.67-.41.87.87,0,0,1-.19-.57v-29a.89.89,0,0,1,.19-.57,1.61,1.61,0,0,1,.67-.42,5.72,5.72,0,0,1,1.25-.28,19.85,19.85,0,0,1,4,0,5.72,5.72,0,0,1,1.25.28,1.55,1.55,0,0,1,.67.42.89.89,0,0,1,.19.57Z" />
                        <path class="cls-2"
                            d="M993.11,435a10.19,10.19,0,0,1-.18,2.2,2.49,2.49,0,0,1-.47,1.08,2.72,2.72,0,0,1-.87.55,7.46,7.46,0,0,1-1.33.42,13,13,0,0,1-1.66.28,15.56,15.56,0,0,1-1.81.1,13.12,13.12,0,0,1-4.24-.62,7,7,0,0,1-3-1.91,7.87,7.87,0,0,1-1.73-3.24,17,17,0,0,1-.55-4.62V414.37h-3.48c-.42,0-.73-.25-1-.76a7.1,7.1,0,0,1-.32-2.56,12,12,0,0,1,.08-1.59,3.64,3.64,0,0,1,.24-1,1.24,1.24,0,0,1,.41-.54,1,1,0,0,1,.57-.16h3.45v-6.48a1,1,0,0,1,.18-.59,1.4,1.4,0,0,1,.65-.44,5.5,5.5,0,0,1,1.27-.26c.53,0,1.19-.08,2-.08s1.47,0,2,.08a5.19,5.19,0,0,1,1.25.26,1.51,1.51,0,0,1,.65.44,1,1,0,0,1,.2.59v6.48h6.31a1,1,0,0,1,.57.16,1.17,1.17,0,0,1,.41.54,4,4,0,0,1,.25,1,14,14,0,0,1,.08,1.59,7,7,0,0,1-.33,2.56,1,1,0,0,1-.94.76h-6.35V428a6.79,6.79,0,0,0,.74,3.57,2.92,2.92,0,0,0,2.68,1.19,5.26,5.26,0,0,0,1.17-.12,6.51,6.51,0,0,0,.93-.26c.27-.1.5-.18.68-.26a1.42,1.42,0,0,1,.51-.11.72.72,0,0,1,.37.11.81.81,0,0,1,.28.46q.09.34.18.93A12,12,0,0,1,993.11,435Z" />
                        <path class="cls-3"
                            d="M229.05,199.64a60.12,60.12,0,0,1-3.74,21.71A56.23,56.23,0,0,1,215,238.55a64.45,64.45,0,0,1-15.76,12.85,97.13,97.13,0,0,1-20.2,8.86,137.38,137.38,0,0,1-23.54,5.12A212.57,212.57,0,0,1,127.59,267H59.82a17.48,17.48,0,0,1-10.94-3.39q-4.43-3.39-4.43-11V56.68q0-7.65,4.43-11a17.54,17.54,0,0,1,10.94-3.38h64q23.44,0,39.7,3.47t27.38,10.51a48.59,48.59,0,0,1,17,17.81q5.91,10.77,5.91,25.36a48.88,48.88,0,0,1-2.36,15.37,43.93,43.93,0,0,1-6.9,13.12,48.27,48.27,0,0,1-11.13,10.42,59.06,59.06,0,0,1-15.07,7.29,74,74,0,0,1,20,6.08,56.1,56.1,0,0,1,16,11.21A51,51,0,0,1,225.11,179,52,52,0,0,1,229.05,199.64Zm-67-94.67a29.88,29.88,0,0,0-2.37-12.16,22.21,22.21,0,0,0-7.09-9,34.25,34.25,0,0,0-11.92-5.47q-7.19-1.9-19.21-1.91H95.28v58.36h29q11.24,0,17.93-2.34a31.57,31.57,0,0,0,11.13-6.43,25.7,25.7,0,0,0,6.6-9.55A31,31,0,0,0,162.07,105Zm13.2,96.23a32,32,0,0,0-3-14,27.29,27.29,0,0,0-8.66-10.34,42.4,42.4,0,0,0-14.58-6.43q-8.88-2.25-23.06-2.25H95.28v63.92h37.43a70.64,70.64,0,0,0,18.23-2,39.18,39.18,0,0,0,12.8-5.9,27.76,27.76,0,0,0,8.47-9.73A28.13,28.13,0,0,0,175.27,201.2Z" />
                        <path class="cls-4"
                            d="M431.62,233c0,2.9-.09,5.36-.29,7.38a31.27,31.27,0,0,1-.89,5.21,13.8,13.8,0,0,1-1.57,3.74,18.78,18.78,0,0,1-3.16,3.56q-2.16,2-8.37,5.12a105.81,105.81,0,0,1-15.17,6,146,146,0,0,1-20.49,4.77,151.86,151.86,0,0,1-24.92,1.91q-26.2,0-47.29-7.12a94.91,94.91,0,0,1-35.85-21.28Q258.83,228.12,251,206.93t-7.88-49.33q0-28.66,8.67-50.9T276,69.36a102.44,102.44,0,0,1,37.33-22.93q21.78-7.82,48-7.82a130.93,130.93,0,0,1,20.49,1.56A139.78,139.78,0,0,1,400,44.26a99,99,0,0,1,15.07,5.81,46.1,46.1,0,0,1,9.36,5.65,20.12,20.12,0,0,1,3.65,3.91,13.49,13.49,0,0,1,1.57,4,39.33,39.33,0,0,1,.89,5.74q.3,3.3.3,8.16a84.78,84.78,0,0,1-.4,8.86,20.42,20.42,0,0,1-1.38,5.91,8.17,8.17,0,0,1-2.36,3.3,5.12,5.12,0,0,1-3.15,1q-3,0-7.49-3a126.32,126.32,0,0,0-11.72-6.78A103.58,103.58,0,0,0,387.2,80a82.06,82.06,0,0,0-23.74-3,64.16,64.16,0,0,0-27.09,5.47,56.58,56.58,0,0,0-20.3,15.63,69.58,69.58,0,0,0-12.7,24.59A112.69,112.69,0,0,0,299,155.17q0,19.8,4.63,34.3t13.2,23.89a53.09,53.09,0,0,0,20.69,14A76.34,76.34,0,0,0,364.84,232a87.46,87.46,0,0,0,23.83-2.87,107.43,107.43,0,0,0,17.24-6.34q7.2-3.47,11.82-6.25t7.2-2.78a6.23,6.23,0,0,1,3.15.69,5.25,5.25,0,0,1,2,2.78,24.51,24.51,0,0,1,1.18,5.82Q431.62,226.74,431.62,233Z" />
                        <path class="cls-5"
                            d="M642.66,261.13a6.13,6.13,0,0,1-.78,3.21c-.53.87-1.78,1.6-3.75,2.17a41.51,41.51,0,0,1-8.66,1.22c-3.82.23-9,.35-15.57.35q-8.28,0-13.2-.35a33,33,0,0,1-7.78-1.3,8.56,8.56,0,0,1-4-2.43,13,13,0,0,1-2-3.57l-22.86-50.2q-4.12-8.5-8.07-15.11a48.69,48.69,0,0,0-8.77-11,32.65,32.65,0,0,0-11.13-6.69,43.31,43.31,0,0,0-14.58-2.26H505.34v85.64a4.48,4.48,0,0,1-1.28,3.13,9.18,9.18,0,0,1-4.23,2.26,46.44,46.44,0,0,1-7.88,1.39q-4.93.51-12.61.52c-5,0-9.16-.18-12.51-.52a46.58,46.58,0,0,1-8-1.39,8.51,8.51,0,0,1-4.14-2.26,4.7,4.7,0,0,1-1.18-3.13V56.68q0-7.65,4.43-11a17.53,17.53,0,0,1,10.93-3.38h66q10,0,16.55.35t11.82.86A119.62,119.62,0,0,1,591,50.07a67.65,67.65,0,0,1,20.88,12.25,50.83,50.83,0,0,1,13.1,17.89,58.57,58.57,0,0,1,4.54,23.71,61.93,61.93,0,0,1-3.26,20.59,50.79,50.79,0,0,1-9.55,16.59,60.68,60.68,0,0,1-15.57,12.68A89.3,89.3,0,0,1,580,162.46a61.42,61.42,0,0,1,10.74,5.91,54.09,54.09,0,0,1,9.46,8.42,82,82,0,0,1,8.37,11.3,135.91,135.91,0,0,1,7.68,14.33l21.48,44.29q3,6.6,3.94,9.64A16.88,16.88,0,0,1,642.66,261.13ZM575.88,108.61q0-11.11-5.72-18.76T551.45,79.08a83.62,83.62,0,0,0-9-1.39q-5-.51-13.89-.52H505.34v63.75h26.4a71.3,71.3,0,0,0,19.31-2.34,40.41,40.41,0,0,0,13.79-6.6,27.46,27.46,0,0,0,8.28-10.16A31,31,0,0,0,575.88,108.61Z" />
                        <path class="cls-6"
                            d="M130.16,405.21c0,1.74,0,3.21-.16,4.43a20.73,20.73,0,0,1-.47,3.12,8.3,8.3,0,0,1-.83,2.23,11,11,0,0,1-1.66,2.14,21.28,21.28,0,0,1-4.43,3.07,52,52,0,0,1-8,3.59,70.12,70.12,0,0,1-10.82,2.86,71.59,71.59,0,0,1-13.17,1.15,69.44,69.44,0,0,1-25-4.27,49.33,49.33,0,0,1-18.94-12.75,56.76,56.76,0,0,1-12-21.18Q30.55,376.91,30.56,360q0-17.18,4.58-30.49a63.53,63.53,0,0,1,12.8-22.38,53.71,53.71,0,0,1,19.72-13.74A66.62,66.62,0,0,1,93,288.75a60.54,60.54,0,0,1,10.83.94,66.2,66.2,0,0,1,9.62,2.44,48.5,48.5,0,0,1,8,3.49,24.11,24.11,0,0,1,4.94,3.38,11.48,11.48,0,0,1,1.92,2.34,8.8,8.8,0,0,1,.84,2.4,27.14,27.14,0,0,1,.47,3.43q.15,2,.15,4.89,0,3.12-.21,5.31a14,14,0,0,1-.72,3.54,5,5,0,0,1-1.25,2,2.52,2.52,0,0,1-1.67.62,7.14,7.14,0,0,1-4-1.82,64.68,64.68,0,0,0-6.2-4.06,50.92,50.92,0,0,0-9-4.06,38.59,38.59,0,0,0-12.54-1.82,29.63,29.63,0,0,0-25,12.65,44,44,0,0,0-6.72,14.72,85.67,85.67,0,0,0,.16,40,39.85,39.85,0,0,0,7,14.31,28.2,28.2,0,0,0,10.93,8.38,36.07,36.07,0,0,0,14.42,2.76,41.24,41.24,0,0,0,12.59-1.72,52.66,52.66,0,0,0,9.11-3.8q3.8-2.08,6.24-3.75a7.73,7.73,0,0,1,3.8-1.66,3,3,0,0,1,1.66.41,3.16,3.16,0,0,1,1.05,1.67,17,17,0,0,1,.62,3.49Q130.16,401.47,130.16,405.21Z" />
                        <path class="cls-7"
                            d="M235.75,374.72a70.92,70.92,0,0,1-3.12,21.64,45.57,45.57,0,0,1-9.47,16.86,42,42,0,0,1-15.93,10.93A59.64,59.64,0,0,1,184.86,428a61.33,61.33,0,0,1-21.55-3.43,38.76,38.76,0,0,1-15.19-10,41,41,0,0,1-9-16.13,74.88,74.88,0,0,1-2.92-21.86,70.26,70.26,0,0,1,3.18-21.7A45.6,45.6,0,0,1,149,338a42.52,42.52,0,0,1,15.87-10.88,59.48,59.48,0,0,1,22.33-3.85,62.31,62.31,0,0,1,21.64,3.39,37.71,37.71,0,0,1,15.15,9.94,41.44,41.44,0,0,1,8.9,16.13A75.56,75.56,0,0,1,235.75,374.72Zm-27,1a68.07,68.07,0,0,0-1.09-12.65,29.82,29.82,0,0,0-3.69-10,18.5,18.5,0,0,0-6.92-6.66,22.2,22.2,0,0,0-10.88-2.4,23,23,0,0,0-10.2,2.14,18.28,18.28,0,0,0-7.18,6.24,30,30,0,0,0-4.22,9.89,56.3,56.3,0,0,0-1.4,13.17,65.41,65.41,0,0,0,1.14,12.64,31.4,31.4,0,0,0,3.7,10,17.59,17.59,0,0,0,6.92,6.61,22.7,22.7,0,0,0,10.82,2.34A23.31,23.31,0,0,0,196.1,405a18.48,18.48,0,0,0,7.18-6.19,28.64,28.64,0,0,0,4.16-9.84A58.09,58.09,0,0,0,208.79,375.76Z" />
                        <path class="cls-8"
                            d="M397.75,422.07a2.85,2.85,0,0,1-.62,1.82,4.54,4.54,0,0,1-2.08,1.3,17.33,17.33,0,0,1-4,.78,61.36,61.36,0,0,1-6.35.26,62.83,62.83,0,0,1-6.45-.26,18.32,18.32,0,0,1-4-.78,4.19,4.19,0,0,1-2.08-1.3,3,3,0,0,1-.57-1.82V367a38.16,38.16,0,0,0-.89-8.54,20.11,20.11,0,0,0-2.7-6.61,12.85,12.85,0,0,0-4.58-4.26,13.54,13.54,0,0,0-6.61-1.51,15.65,15.65,0,0,0-9.47,3.64A63.74,63.74,0,0,0,337,360.35v61.72a2.85,2.85,0,0,1-.62,1.82,4.56,4.56,0,0,1-2.14,1.3,18.1,18.1,0,0,1-4,.78,60.3,60.3,0,0,1-6.25.26,61.49,61.49,0,0,1-6.35-.26,18.1,18.1,0,0,1-4-.78,4.56,4.56,0,0,1-2.14-1.3,2.85,2.85,0,0,1-.62-1.82V367a38.16,38.16,0,0,0-.89-8.54,20.74,20.74,0,0,0-2.65-6.61,12.3,12.3,0,0,0-4.58-4.26,13.61,13.61,0,0,0-6.56-1.51,15.75,15.75,0,0,0-9.57,3.64,61,61,0,0,0-10.31,10.61v61.72a2.79,2.79,0,0,1-.62,1.82,4.58,4.58,0,0,1-2.13,1.3,18.32,18.32,0,0,1-4,.78,77.67,77.67,0,0,1-12.7,0,18.1,18.1,0,0,1-4-.78,4.56,4.56,0,0,1-2.14-1.3,2.85,2.85,0,0,1-.62-1.82V329.24a3.2,3.2,0,0,1,.52-1.83,3.8,3.8,0,0,1,1.87-1.3,15.71,15.71,0,0,1,3.49-.78,46.35,46.35,0,0,1,5.36-.26,48.72,48.72,0,0,1,5.51.26,13.1,13.1,0,0,1,3.39.78,3.82,3.82,0,0,1,1.71,1.3,3.2,3.2,0,0,1,.52,1.83V340a61.41,61.41,0,0,1,15.36-12.49,32.91,32.91,0,0,1,16-4.17,40.63,40.63,0,0,1,10.3,1.2,29.37,29.37,0,0,1,8.17,3.43,25.88,25.88,0,0,1,6.2,5.36,31.49,31.49,0,0,1,4.37,7,78.42,78.42,0,0,1,8.17-7.7,48,48,0,0,1,7.91-5.26,36.34,36.34,0,0,1,7.8-3,32.35,32.35,0,0,1,8-1q9.25,0,15.61,3.13a27.37,27.37,0,0,1,10.25,8.48,34.12,34.12,0,0,1,5.57,12.54,67.1,67.1,0,0,1,1.66,15.19Z" />
                        <path class="cls-9"
                            d="M510.53,374.3a86.6,86.6,0,0,1-2.66,22.33,50.42,50.42,0,0,1-7.75,16.91,34.44,34.44,0,0,1-12.7,10.72A38.89,38.89,0,0,1,470,428a33.06,33.06,0,0,1-7.44-.78,28.41,28.41,0,0,1-6.56-2.39,39.66,39.66,0,0,1-6.29-4,72.42,72.42,0,0,1-6.46-5.62v43.72a3.09,3.09,0,0,1-.62,1.87,4.71,4.71,0,0,1-2.14,1.4,17.93,17.93,0,0,1-4,.89,65.19,65.19,0,0,1-12.7,0,18,18,0,0,1-4-.89,4.73,4.73,0,0,1-2.13-1.4,3,3,0,0,1-.63-1.87V329.24a3.27,3.27,0,0,1,.52-1.83,3.86,3.86,0,0,1,1.83-1.3,14.6,14.6,0,0,1,3.43-.78,46.35,46.35,0,0,1,5.36-.26,45.45,45.45,0,0,1,5.26.26,14.72,14.72,0,0,1,3.43.78,3.82,3.82,0,0,1,1.82,1.3,3.2,3.2,0,0,1,.52,1.83v10.92a94.92,94.92,0,0,1,8-7.33,48,48,0,0,1,8-5.31,36.4,36.4,0,0,1,8.37-3.18,39.46,39.46,0,0,1,9.22-1q10.19,0,17.38,4a32.82,32.82,0,0,1,11.7,11,49.23,49.23,0,0,1,6.61,16.24A89.8,89.8,0,0,1,510.53,374.3Zm-27.27,1.87a71.14,71.14,0,0,0-.89-11.39,33.43,33.43,0,0,0-3-9.73,18.42,18.42,0,0,0-5.62-6.82,14.32,14.32,0,0,0-8.69-2.55,17.53,17.53,0,0,0-5.15.78,20,20,0,0,0-5.2,2.55,37,37,0,0,0-5.47,4.58,65.74,65.74,0,0,0-5.93,7v30.6a61.12,61.12,0,0,0,10.51,10.77,16.93,16.93,0,0,0,10.41,3.8,14.43,14.43,0,0,0,8.69-2.6,20.06,20.06,0,0,0,5.88-6.82,33.92,33.92,0,0,0,3.38-9.52A52.47,52.47,0,0,0,483.26,376.17Z" />
                        <path class="cls-10"
                            d="M551.28,422.07a2.8,2.8,0,0,1-.63,1.82,4.52,4.52,0,0,1-2.13,1.3,18.2,18.2,0,0,1-4,.78,77.55,77.55,0,0,1-12.69,0,18.08,18.08,0,0,1-4-.78,4.56,4.56,0,0,1-2.14-1.3,2.85,2.85,0,0,1-.62-1.82V285.21a3.07,3.07,0,0,1,.62-1.87,4.64,4.64,0,0,1,2.14-1.41,18,18,0,0,1,4-.88,65.09,65.09,0,0,1,12.69,0,18.1,18.1,0,0,1,4,.88,4.6,4.6,0,0,1,2.13,1.41,3,3,0,0,1,.63,1.87Z" />
                        <path class="cls-11"
                            d="M624.81,425.61,613.57,458.5q-.93,2.6-5.1,3.75a64.23,64.23,0,0,1-18.84.78,9.47,9.47,0,0,1-3.74-1.2,2.77,2.77,0,0,1-1.36-2.08,6.8,6.8,0,0,1,.63-3l12.38-31.12a7.2,7.2,0,0,1-2.44-1.92,8.85,8.85,0,0,1-1.61-2.76l-32-85.35a17.6,17.6,0,0,1-1.35-5.56,3.81,3.81,0,0,1,1.25-3,8.21,8.21,0,0,1,4.22-1.51,58.3,58.3,0,0,1,7.85-.42c3,0,5.34.05,7.08.16a12.35,12.35,0,0,1,4.06.78,4.42,4.42,0,0,1,2.18,1.92,18.77,18.77,0,0,1,1.46,3.7l21.86,62.13h.31l20-63.38a7.1,7.1,0,0,1,1.62-3.59,6.74,6.74,0,0,1,3.28-1.3,51.25,51.25,0,0,1,8-.42,54.63,54.63,0,0,1,7.44.42,9,9,0,0,1,4.37,1.56,3.75,3.75,0,0,1,1.41,3.07,15.07,15.07,0,0,1-.84,4.53Z" />
                        <path class="cls-12"
                            d="M964.22,92.3V83.74h-8.39v4.19h-16L929,101.79h5v23.07l-12.6,10.92V114h8.4L916.38,97.17V84.58H902.11v6.71h-26L858.46,114h8.4v68.83l-13.43,11.71V52.68L787.59,82.06v37.27H758.13v33.5H718.64V164h8.88v38.12l-4.2,7.55,36.94,64.63L808.1,264.2,966.35,127.38l3.75-28.54ZM746.83,207.12H733.4V193.69h13.43Zm0-21.82H733.4V171.87h13.43Zm19.3,21.82H752.7V193.69h13.43Zm0-21.82H752.7V171.87h13.43Zm18.47,26.86h-9.9V130.74h9.9Zm31.23-3.55H795.51V188.29h20.32Zm0-33H795.51V155.28h20.32Zm0-31.62H795.51V123.66h20.32Zm0-33H795.51V90.64h20.32ZM845,208.61H824.71V188.29H845Zm0-33H824.71V155.28H845ZM845,144H824.71V123.66H845Zm0-33H824.71V90.64H845Zm56.24,69.3H888V132.42h13.25Z" />
                        <path class="cls-13"
                            d="M703.31,198.3a3.58,3.58,0,0,1,.14-.54c1.59-5.13,9.89-3.81,13.39-2.12,11.38,5.48,21.75,13.88,31.41,21.89a261.14,261.14,0,0,1,22.24,20.61c5.66,6,10.78,11.14,19.8,8.84,6.14-1.57,11.2-5.85,15.66-10.35,42.67-43.13,90.25-82.91,137.82-120.54,36.09-28.54,75.11-60.33,118.77-76.48,0,0,11.37-3.14,12.72,1.13s-8.38,2.17-39.2,30.44c-2,1.88-4.13,3.75-6.2,5.61l-7.51,6.69q-4.36,3.9-8.72,7.81-5,4.48-9.91,9-5.55,5.1-11,10.27-6.11,5.76-12.13,11.61-6.63,6.45-13.17,13-7.14,7.17-14.17,14.47-7.63,7.94-15.12,16-8.1,8.73-16,17.62-8.53,9.57-16.9,19.29-9,10.44-17.72,21-9.36,11.34-18.5,22.86-9.74,12.27-19.23,24.73-10.1,13.25-19.92,26.68-10.42,14.25-20.57,28.7c-2,2.85-4,5.7-6,8.56-3,4.3-5.11,8.62-10.5,10.18a11.21,11.21,0,0,1-11.14-2.66c-14.12-13.56-24.71-33.3-34.84-49.78-17.54-28.53-30.93-57.86-42.66-89.11A10.11,10.11,0,0,1,703.31,198.3Z" />
                        <ellipse class="cls-14" cx="790.05" cy="352.33" rx="39.87" ry="7.55" />
                    </svg>
                </span>
                <span class="logo-sm">
                    <img src="{{ asset('assets/images/small_new_logo.svg') }}" class="img-fluid"
                        style="max-height: 130px">

                </span>
            </a>


            <!-- LOGO -->
            {{-- <a href="/dashboard" class="mt-3 logo text-center logo-dark">
                <span class="logo-lg">
                    <img src="{{ asset('assets/images/logo.png') }}" class="img-fluid">
                </span>
                <span class="logo-sm">
                    <img src="{{ asset('assets/images/logo.png') }}" class="img-fluid">
                </span>
            </a> --}}

            <div class="h-100 mt-2" id="leftside-menu-container" data-simplebar>

                <!--- Sidemenu -->
                <ul class="side-nav mt-3">

                    @if (Auth::user()->role == 'admin')

                        <li class="side-nav-item">
                            <a href="/dashboard" class="side-nav-link">
                                {{-- <i class="uil-chart _nav-item-text"></i> --}}
                                <svg width="18" height="18" viewBox="0 0 22 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 10px 0 0;">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M5.5 0.75C2.87665 0.75 0.75 2.87665 0.75 5.5C0.75 8.12335 2.87665 10.25 5.5 10.25C8.12335 10.25 10.25 8.12335 10.25 5.5C10.25 2.87665 8.12335 0.75 5.5 0.75ZM2.25 5.5C2.25 3.70507 3.70507 2.25 5.5 2.25C7.29493 2.25 8.75 3.70507 8.75 5.5C8.75 7.29493 7.29493 8.75 5.5 8.75C3.70507 8.75 2.25 7.29493 2.25 5.5Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M16.5 11.75C13.8766 11.75 11.75 13.8766 11.75 16.5C11.75 19.1234 13.8766 21.25 16.5 21.25C19.1234 21.25 21.25 19.1234 21.25 16.5C21.25 13.8766 19.1234 11.75 16.5 11.75ZM13.25 16.5C13.25 14.7051 14.7051 13.25 16.5 13.25C18.2949 13.25 19.75 14.7051 19.75 16.5C19.75 18.2949 18.2949 19.75 16.5 19.75C14.7051 19.75 13.25 18.2949 13.25 16.5Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11.75 5.5C11.75 2.87665 13.8766 0.75 16.5 0.75C19.1234 0.75 21.25 2.87665 21.25 5.5C21.25 8.12335 19.1234 10.25 16.5 10.25C13.8766 10.25 11.75 8.12335 11.75 5.5ZM16.5 2.25C14.7051 2.25 13.25 3.70507 13.25 5.5C13.25 7.29493 14.7051 8.75 16.5 8.75C18.2949 8.75 19.75 7.29493 19.75 5.5C19.75 3.70507 18.2949 2.25 16.5 2.25Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M5.5 11.75C2.87665 11.75 0.75 13.8766 0.75 16.5C0.75 19.1234 2.87665 21.25 5.5 21.25C8.12335 21.25 10.25 19.1234 10.25 16.5C10.25 13.8766 8.12335 11.75 5.5 11.75ZM2.25 16.5C2.25 14.7051 3.70507 13.25 5.5 13.25C7.29493 13.25 8.75 14.7051 8.75 16.5C8.75 18.2949 7.29493 19.75 5.5 19.75C3.70507 19.75 2.25 18.2949 2.25 16.5Z"
                                        fill="#797B7C" />
                                </svg>
                                <span class="_nav-item-text"> Dashboard </span>
                            </a>
                        </li>


                        <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#create-and-manage" aria-expanded="false"
                                aria-controls="sidebarPages" class="side-nav-link _nav-item-text">
                                {{-- <i class="uil-copy-alt"></i> --}}
                                <svg width="18" height="18" viewBox="0 0 20 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 10px 0 0;">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M10 7.25C7.92893 7.25 6.25 8.92893 6.25 11C6.25 13.0711 7.92893 14.75 10 14.75C12.0711 14.75 13.75 13.0711 13.75 11C13.75 8.92893 12.0711 7.25 10 7.25ZM7.75 11C7.75 9.75736 8.75736 8.75 10 8.75C11.2426 8.75 12.25 9.75736 12.25 11C12.25 12.2426 11.2426 13.25 10 13.25C8.75736 13.25 7.75 12.2426 7.75 11Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M10 0.25C9.29541 0.25 8.65185 0.443593 7.94858 0.770366C7.26808 1.08656 6.48039 1.55304 5.49457 2.13685L4.74148 2.58283C3.75533 3.16682 2.96771 3.63324 2.36076 4.07944C1.73315 4.54083 1.25177 5.01311 0.903344 5.63212C0.555476 6.25014 0.398411 6.91095 0.323055 7.69506C0.249985 8.45539 0.249992 9.38651 0.25 10.556V11.444C0.249992 12.6135 0.249985 13.5446 0.323055 14.3049C0.398411 15.0891 0.555476 15.7499 0.903344 16.3679C1.25177 16.9869 1.73315 17.4592 2.36076 17.9206C2.96771 18.3668 3.75533 18.8332 4.74148 19.4172L5.4946 19.8632C6.48038 20.447 7.2681 20.9135 7.94858 21.2296C8.65185 21.5564 9.29541 21.75 10 21.75C10.7046 21.75 11.3481 21.5564 12.0514 21.2296C12.7319 20.9134 13.5196 20.447 14.5054 19.8632L15.2585 19.4172C16.2446 18.8332 17.0323 18.3668 17.6392 17.9206C18.2669 17.4592 18.7482 16.9869 19.0967 16.3679C19.4445 15.7499 19.6016 15.0891 19.6769 14.3049C19.75 13.5446 19.75 12.6135 19.75 11.4441V10.556C19.75 9.38656 19.75 8.45538 19.6769 7.69506C19.6016 6.91095 19.4445 6.25014 19.0967 5.63212C18.7482 5.01311 18.2669 4.54083 17.6392 4.07944C17.0323 3.63324 16.2447 3.16683 15.2585 2.58285L14.5054 2.13685C13.5196 1.55303 12.7319 1.08656 12.0514 0.770365C11.3481 0.443592 10.7046 0.25 10 0.25ZM6.22524 3.44744C7.25238 2.83917 7.97606 2.41161 8.58065 2.13069C9.1702 1.85676 9.59074 1.75 10 1.75C10.4093 1.75 10.8298 1.85676 11.4193 2.13069C12.0239 2.41161 12.7476 2.83917 13.7748 3.44744L14.4609 3.85379C15.4879 4.46197 16.2109 4.89115 16.7508 5.288C17.2767 5.67467 17.581 5.99746 17.7895 6.36788C17.9986 6.73929 18.1199 7.1739 18.1838 7.83855C18.2492 8.51884 18.25 9.37802 18.25 10.5937V11.4063C18.25 12.622 18.2492 13.4812 18.1838 14.1614C18.1199 14.8261 17.9986 15.2607 17.7895 15.6321C17.581 16.0025 17.2767 16.3253 16.7508 16.712C16.2109 17.1089 15.4879 17.538 14.4609 18.1462L13.7748 18.5526C12.7476 19.1608 12.0239 19.5884 11.4193 19.8693C10.8298 20.1432 10.4093 20.25 10 20.25C9.59074 20.25 9.1702 20.1432 8.58065 19.8693C7.97606 19.5884 7.25238 19.1608 6.22524 18.5526L5.53909 18.1462C4.5121 17.538 3.78906 17.1089 3.24923 16.712C2.72326 16.3253 2.419 16.0025 2.2105 15.6321C2.00145 15.2607 1.88005 14.8261 1.81618 14.1614C1.7508 13.4812 1.75 12.622 1.75 11.4063V10.5937C1.75 9.37802 1.7508 8.51884 1.81618 7.83855C1.88005 7.1739 2.00145 6.73929 2.2105 6.36788C2.419 5.99746 2.72326 5.67467 3.24923 5.288C3.78906 4.89115 4.5121 4.46197 5.53909 3.85379L6.22524 3.44744Z"
                                        fill="#797B7C" />
                                </svg>
                                <span> Create & Manage </span>
                                <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="create-and-manage">
                                <ul class="side-nav-second-level">


                                    <li>
                                        <a class="_nav-item-text" href="{{ route('client') }}">
                                            <i class="dripicons-user-group"></i>
                                            <span>&nbsp; Clients</span>
                                        </a>
                                    </li>


                                    <li>
                                        <a class="_nav-item-text" href="{{ route('property', 0) }}">
                                            <i class="dripicons-home"></i>
                                            <span>&nbsp; Properties</span>
                                        </a>
                                    </li>


                                    <li>
                                        <a class="_nav-item-text" href="{{ route('batch') }}">
                                            <i class="dripicons-document"></i>
                                            <span>&nbsp; Batches</span>
                                        </a>
                                    </li>


                                    <li>
                                        <a class="_nav-item-text" href="{{ route('contractor') }}">
                                            <i class="dripicons-user-id"></i>
                                            <span>&nbsp; Contractors</span>
                                        </a>
                                    </li>

                                    <li>
                                        <a class="_nav-item-text" href="{{ route('assessor') }}">
                                            <i class="dripicons-scale"></i>
                                            <span>&nbsp; HEA/BER Assessors</span>
                                        </a>
                                    </li>

                                </ul>
                            </div>
                        </li>



                        <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#properies" aria-expanded="false"
                                aria-controls="sidebarPages" class="side-nav-link _nav-item-text">
                                {{-- <i class="uil-home"></i> --}}
                                <svg width="18" height="18" viewBox="0 0 22 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 10px 0 0;">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M13.948 0.250001H16.052C16.9505 0.249972 17.6997 0.249947 18.2945 0.329913C18.9223 0.414318 19.4891 0.599989 19.9445 1.05546C20.4 1.51093 20.5857 2.07773 20.6701 2.70552C20.7501 3.30031 20.75 4.04953 20.75 4.94801V20.25H21C21.4142 20.25 21.75 20.5858 21.75 21C21.75 21.4142 21.4142 21.75 21 21.75H1C0.585786 21.75 0.25 21.4142 0.25 21C0.25 20.5858 0.585786 20.25 1 20.25H1.25L1.25 7.948C1.24997 7.04952 1.24994 6.3003 1.32991 5.70552C1.41432 5.07773 1.59999 4.51093 2.05546 4.05546C2.51093 3.59999 3.07773 3.41432 3.70552 3.32991C4.3003 3.24995 5.04952 3.24997 5.948 3.25L9.27799 3.25C9.32944 2.37583 9.4906 1.62032 10.0555 1.05546C10.5109 0.599989 11.0777 0.414318 11.7055 0.329913C12.3003 0.249947 13.0495 0.249972 13.948 0.250001ZM10.0068 4.75C10.0055 4.75 10.0043 4.75 10.003 4.75C10.002 4.75 10.001 4.75 10 4.75H6C5.03599 4.75 4.38843 4.7516 3.90539 4.81654C3.44393 4.87858 3.24643 4.9858 3.11612 5.11612C2.9858 5.24644 2.87858 5.44393 2.81654 5.90539C2.75159 6.38843 2.75 7.03599 2.75 8V20.25H7.25V18C7.25 17.5858 7.58579 17.25 8 17.25C8.41421 17.25 8.75 17.5858 8.75 18V20.25H13.25V8C13.25 7.03599 13.2484 6.38843 13.1835 5.90539C13.1214 5.44393 13.0142 5.24644 12.8839 5.11612C12.7536 4.9858 12.5561 4.87858 12.0946 4.81654C11.6127 4.75175 10.9671 4.75001 10.0068 4.75ZM14.75 20.25L14.75 7.94801C14.75 7.04953 14.7501 6.30031 14.6701 5.70552C14.5857 5.07773 14.4 4.51093 13.9445 4.05546C13.4891 3.59999 12.9223 3.41432 12.2945 3.32991C11.8691 3.27273 11.3648 3.25645 10.7834 3.25183C10.8335 2.55219 10.9436 2.28863 11.1161 2.11612C11.2464 1.9858 11.4439 1.87858 11.9054 1.81654C12.3884 1.7516 13.036 1.75 14 1.75H16C16.964 1.75 17.6116 1.7516 18.0946 1.81654C18.5561 1.87858 18.7536 1.9858 18.8839 2.11612C19.0142 2.24644 19.1214 2.44393 19.1835 2.90539C19.2484 3.38843 19.25 4.03599 19.25 5V20.25H14.75ZM4.25 7C4.25 6.58579 4.58579 6.25 5 6.25H11C11.4142 6.25 11.75 6.58579 11.75 7C11.75 7.41422 11.4142 7.75 11 7.75H5C4.58579 7.75 4.25 7.41422 4.25 7ZM4.25 10C4.25 9.58579 4.58579 9.25 5 9.25H11C11.4142 9.25 11.75 9.58579 11.75 10C11.75 10.4142 11.4142 10.75 11 10.75H5C4.58579 10.75 4.25 10.4142 4.25 10ZM4.25 13C4.25 12.5858 4.58579 12.25 5 12.25H11C11.4142 12.25 11.75 12.5858 11.75 13C11.75 13.4142 11.4142 13.75 11 13.75H5C4.58579 13.75 4.25 13.4142 4.25 13Z"
                                        fill="#797B7C" />
                                </svg>
                                <span> Properties </span>
                                <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="properies">
                                <ul class="side-nav-second-level">

                                    @foreach ($schemes as $scheme)
                                        <li>
                                            <a class="_nav-item-text" href="{{ route('property', $scheme->id) }}">
                                                <i class="uil-coins"></i>
                                                <span>&nbsp; {{ $scheme->scheme }}</span>
                                            </a>
                                        </li>
                                    @endforeach

                                    <li>
                                        <a class="_nav-item-text" href="{{ route('property', 909090909090) }}">
                                            <i class="uil-coins"></i>
                                            <span>&nbsp; Archieved Home</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#lookups" aria-expanded="false"
                                aria-controls="sidebarPages" class="side-nav-link _nav-item-text">
                                {{-- <i class="uil-search"></i> --}}
                                <svg width="15" height="15" viewBox="0 0 22 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 13px 0 2px;">
                                    <path
                                        d="M17.2892 1.88976C16.2615 1.75159 14.9068 1.75 13 1.75C12.5858 1.75 12.25 1.41421 12.25 1C12.25 0.585788 12.5858 0.25 13 0.25H13.0564C14.8942 0.249985 16.3498 0.249973 17.489 0.403136C18.6615 0.560764 19.6104 0.892881 20.3588 1.64124C21.0432 2.32568 21.417 2.97665 21.5924 3.98199C21.7501 4.88571 21.7501 6.1045 21.75 7.90369L21.75 8C21.75 8.41422 21.4142 8.75 21 8.75C20.5858 8.75 20.25 8.41422 20.25 8C20.25 6.08092 20.2471 4.9986 20.1147 4.23984C19.9973 3.56666 19.7852 3.18904 19.2981 2.7019C18.8749 2.27869 18.2952 2.02503 17.2892 1.88976Z"
                                        fill="#797B7C" />
                                    <path
                                        d="M1.75001 14C1.75001 13.5858 1.41422 13.25 1.00001 13.25C0.585792 13.25 0.250005 13.5858 0.250005 14L0.250002 14.0963C0.249954 15.8955 0.249922 17.1143 0.407616 18.018C0.583043 19.0233 0.956812 19.6743 1.64125 20.3588C2.38961 21.1071 3.33856 21.4392 4.51098 21.5969C5.6502 21.75 7.10583 21.75 8.94359 21.75H9C9.41422 21.75 9.75001 21.4142 9.75001 21C9.75001 20.5858 9.41422 20.25 9 20.25C7.09318 20.25 5.73852 20.2484 4.71085 20.1102C3.70476 19.975 3.12512 19.7213 2.70191 19.2981C2.21477 18.811 2.00275 18.4333 1.88529 17.7602C1.75289 17.0014 1.75001 15.9191 1.75001 14Z"
                                        fill="#797B7C" />
                                    <path
                                        d="M21.75 14C21.75 13.5858 21.4142 13.25 21 13.25C20.5858 13.25 20.25 13.5858 20.25 14C20.25 15.9191 20.2471 17.0014 20.1147 17.7602C19.9973 18.4333 19.7852 18.811 19.2981 19.2981C18.8749 19.7213 18.2952 19.975 17.2892 20.1102C16.2615 20.2484 14.9068 20.25 13 20.25C12.5858 20.25 12.25 20.5858 12.25 21C12.25 21.4142 12.5858 21.75 13 21.75H13.0564C14.8942 21.75 16.3498 21.75 17.489 21.5969C18.6615 21.4392 19.6104 21.1071 20.3588 20.3588C21.0432 19.6743 21.417 19.0233 21.5924 18.018C21.7501 17.1143 21.7501 15.8955 21.75 14.0963L21.75 14Z"
                                        fill="#797B7C" />
                                    <path
                                        d="M9.00001 0.25H8.94359C7.10584 0.249985 5.65019 0.249973 4.51098 0.403136C3.33856 0.560764 2.38961 0.892881 1.64125 1.64124C0.956811 2.32568 0.583043 2.97665 0.407616 3.98199C0.249922 4.8857 0.249954 6.10448 0.250002 7.90364L0.250005 8C0.250005 8.41422 0.585792 8.75 1.00001 8.75C1.41422 8.75 1.75001 8.41422 1.75001 8C1.75001 6.08092 1.75289 4.9986 1.88529 4.23984C2.00275 3.56666 2.21477 3.18904 2.70191 2.7019C3.12512 2.27869 3.70476 2.02503 4.71085 1.88976C5.73852 1.75159 7.09319 1.75 9.00001 1.75C9.41422 1.75 9.75001 1.41421 9.75001 1C9.75001 0.585788 9.41422 0.25 9.00001 0.25Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M11 8.25C9.48122 8.25 8.25001 9.48122 8.25001 11C8.25001 12.5188 9.48122 13.75 11 13.75C12.5188 13.75 13.75 12.5188 13.75 11C13.75 9.48122 12.5188 8.25 11 8.25ZM9.75001 11C9.75001 10.3096 10.3096 9.75 11 9.75C11.6904 9.75 12.25 10.3096 12.25 11C12.25 11.6904 11.6904 12.25 11 12.25C10.3096 12.25 9.75001 11.6904 9.75001 11Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M4.32438 8.45049C5.59435 6.97738 7.77637 5.25 11 5.25C14.2236 5.25 16.4057 6.97738 17.6756 8.45049L17.7079 8.48791C17.9789 8.80202 18.2576 9.12501 18.4491 9.51207C18.6632 9.94484 18.75 10.4094 18.75 11C18.75 11.5906 18.6632 12.0552 18.4491 12.4879C18.2576 12.875 17.9789 13.198 17.7079 13.5121L17.6756 13.5495C16.4057 15.0226 14.2236 16.75 11 16.75C7.77637 16.75 5.59435 15.0226 4.32438 13.5495L4.29211 13.5121C4.0211 13.198 3.7424 12.875 3.5509 12.4879C3.33676 12.0552 3.25001 11.5906 3.25001 11C3.25001 10.4094 3.33676 9.94484 3.5509 9.51207C3.74241 9.12501 4.02109 8.80202 4.2921 8.48791L4.32438 8.45049ZM11 6.75C8.369 6.75 6.56642 8.14707 5.46048 9.42992C5.14652 9.7941 4.99368 9.9785 4.89533 10.1773C4.81198 10.3457 4.75001 10.566 4.75001 11C4.75001 11.434 4.81198 11.6543 4.89533 11.8227C4.99368 12.0215 5.14652 12.2059 5.46048 12.5701C6.56642 13.8529 8.369 15.25 11 15.25C13.631 15.25 15.4336 13.8529 16.5395 12.5701C16.8535 12.2059 17.0063 12.0215 17.1047 11.8227C17.188 11.6543 17.25 11.434 17.25 11C17.25 10.566 17.188 10.3457 17.1047 10.1773C17.0063 9.9785 16.8535 9.7941 16.5395 9.42992C15.4336 8.14707 13.631 6.75 11 6.75Z"
                                        fill="#797B7C" />
                                </svg>
                                <span> Lookups </span>
                                <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="lookups">
                                <ul class="side-nav-second-level">
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('lookup.job') }}">
                                            <i class="uil-list-ui-alt"></i>
                                            <span>&nbsp; Job (Measures)</span>
                                        </a>
                                    </li>

                                    <li>
                                        <a class="_nav-item-text" href="{{ route('lookup.scheme') }}">
                                            <i class="uil-list-ui-alt"></i>
                                            <span>&nbsp; Schemes</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('document.index') }}">
                                            <i class="uil-list-ui-alt"></i>
                                            <span>&nbsp; Documents</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('toolboxTalk') }}">
                                            <i class="uil-list-ui-alt"></i>
                                            <span>&nbsp; Toolbox Talk</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#users" aria-expanded="false"
                                aria-controls="sidebarPages" class="side-nav-link _nav-item-text">
                                {{-- <i class="dripicons-user-group"></i> --}}
                                <svg width="18" height="18" viewBox="0 0 18 22" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 10px 0 0px;">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M8.99989 0.25C6.37654 0.25 4.24989 2.37665 4.24989 5C4.24989 7.62335 6.37654 9.75 8.99989 9.75C11.6232 9.75 13.7499 7.62335 13.7499 5C13.7499 2.37665 11.6232 0.25 8.99989 0.25ZM5.74989 5C5.74989 3.20507 7.20496 1.75 8.99989 1.75C10.7948 1.75 12.2499 3.20507 12.2499 5C12.2499 6.79493 10.7948 8.25 8.99989 8.25C7.20496 8.25 5.74989 6.79493 5.74989 5Z"
                                        fill="#797B7C" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M8.99989 11.25C6.68634 11.25 4.55481 11.7759 2.97534 12.6643C1.41937 13.5396 0.24989 14.8661 0.24989 16.5L0.249824 16.602C0.248694 17.7638 0.247276 19.222 1.5263 20.2635C2.15577 20.7761 3.03637 21.1406 4.2261 21.3815C5.41915 21.6229 6.97412 21.75 8.99989 21.75C11.0257 21.75 12.5806 21.6229 13.7737 21.3815C14.9634 21.1406 15.844 20.7761 16.4735 20.2635C17.7525 19.222 17.7511 17.7638 17.75 16.602L17.7499 16.5C17.7499 14.8661 16.5804 13.5396 15.0244 12.6643C13.445 11.7759 11.3134 11.25 8.99989 11.25ZM1.74989 16.5C1.74989 15.6487 2.37127 14.7251 3.71073 13.9717C5.02669 13.2315 6.89516 12.75 8.99989 12.75C11.1046 12.75 12.9731 13.2315 14.289 13.9717C15.6285 14.7251 16.2499 15.6487 16.2499 16.5C16.2499 17.8078 16.2096 18.544 15.5263 19.1004C15.1558 19.4022 14.5364 19.6967 13.4761 19.9113C12.4192 20.1252 10.9741 20.25 8.99989 20.25C7.02566 20.25 5.58063 20.1252 4.52368 19.9113C3.46341 19.6967 2.84401 19.4022 2.47348 19.1004C1.79021 18.544 1.74989 17.8078 1.74989 16.5Z"
                                        fill="#797B7C" />
                                </svg>
                                <span> Users </span>
                                <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="users">
                                <ul class="side-nav-second-level">
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('user') }}">
                                            <i class="uil-500px"></i>
                                            <span>&nbsp; Admin</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('surveyor') }}">
                                            <i class="uil-user-circle"></i>
                                            <span>&nbsp; Surveyor</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="side-nav-item">
                            <a href="/dashboard/contractor-chat"
                                class="side-nav-link @if (Request::segment(2) == 'contractor-chat/*') active @endif">

                                <svg class="mysvgmsg" width="24" height="25" viewBox="0 0 24 25"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12.0001 3.58905H17.9221C19.1328 3.56312 20.3125 3.97293 21.2464 4.74382C22.1803 5.51471 22.8062 6.5954 23.0101 7.78905C23.0661 8.07963 23.0922 8.37516 23.0881 8.67105C23.0881 11.207 23.0881 13.743 23.0881 16.279C23.1001 17.4715 22.6898 18.6298 21.93 19.5489C21.1701 20.468 20.1096 21.0887 18.9361 21.301C18.5734 21.362 18.2059 21.3901 17.8381 21.385C13.9381 21.385 10.0381 21.385 6.13811 21.385C5.4678 21.4058 4.80002 21.2934 4.17347 21.0543C3.54691 20.8152 2.97401 20.4541 2.48795 19.9921C2.0019 19.53 1.61234 18.9761 1.34184 18.3624C1.07134 17.7488 0.92528 17.0876 0.912109 16.4171C0.912109 13.781 0.912109 11.1451 0.912109 8.50905C0.949595 7.22072 1.47692 5.99516 2.38661 5.08212C3.29631 4.16908 4.51993 3.63726 5.80811 3.59505H12.0001V3.58905ZM21.1501 6.78105C21.0661 6.88305 21.0241 6.96105 20.9641 7.02105C19.0961 8.88905 17.2281 10.757 15.3601 12.625C14.9229 13.0745 14.4 13.4317 13.8224 13.6756C13.2448 13.9195 12.6241 14.0452 11.9971 14.0452C11.3701 14.0452 10.7495 13.9195 10.1718 13.6756C9.59421 13.4317 9.07134 13.0745 8.63411 12.625C6.76611 10.745 4.88811 8.87105 3.00011 7.00305C2.94611 6.94305 2.88611 6.88905 2.81411 6.82305C2.49187 7.34461 2.31765 7.94402 2.31011 8.55705C2.31011 11.1851 2.31011 13.813 2.31011 16.435C2.32429 17.3804 2.70983 18.2823 3.38343 18.9458C4.05703 19.6093 4.96461 19.9812 5.91011 19.9811C9.97411 19.9811 14.0361 19.9811 18.0961 19.9811C19.0393 19.9735 19.9425 19.5992 20.6144 18.9373C21.2864 18.2754 21.6743 17.378 21.6961 16.435C21.6961 13.813 21.6961 11.1851 21.6961 8.55705C21.6827 7.92669 21.4958 7.31221 21.1561 6.78105H21.1501ZM3.75011 5.78505C3.87011 5.87505 3.96611 5.93505 4.04411 6.00705C5.91611 7.87105 7.78411 9.73905 9.64811 11.6111C9.9532 11.9341 10.321 12.1914 10.7291 12.3673C11.1371 12.5432 11.5768 12.6339 12.0211 12.6339C12.4654 12.6339 12.9051 12.5432 13.3131 12.3673C13.7212 12.1914 14.089 11.9341 14.3941 11.6111C16.2901 9.72305 18.1801 7.83105 20.0641 5.93505L20.2501 5.73705C20.1594 5.66833 20.0653 5.60425 19.9681 5.54505C19.3555 5.1678 18.6475 4.97415 17.9281 4.98705H10.0681C8.65211 4.98705 7.24211 4.98705 5.83211 4.98705C5.06187 5.01626 4.3223 5.2965 3.72611 5.78505H3.75011Z"
                                        fill="#797B7C" />
                                </svg>

                                <span class="_nav-item-text"> Messages </span>
                            </a>
                        </li>
                        <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#config" aria-expanded="false"
                                aria-controls="sidebarPages" class="side-nav-link _nav-item-text">
                                {{-- <i class="dripicons-gear"></i> --}}
                                <svg width="22" height="22" viewBox="0 0 84 84" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="margin: 0 10px 0 0px;">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M39.8474 13.3846C37.5367 20.3338 29.6025 23.6202 23.0548 20.3402C21.3178 19.4701 19.4697 21.3141 20.3416 23.0548C23.6209 29.6022 20.3353 37.5367 13.386 39.8477C11.5401 40.4616 11.5401 43.0726 13.386 43.6864C20.3353 45.9975 23.6209 53.932 20.3416 60.4793C19.4697 62.22 21.3178 64.0641 23.0548 63.1939C29.6025 59.9139 37.5367 63.2003 39.8474 70.1496C40.461 71.995 43.0714 71.995 43.6851 70.1496C45.9957 63.2003 53.9299 59.9139 60.4776 63.1939C62.2146 64.0641 64.0627 62.22 63.1909 60.4793C59.9115 53.932 63.1971 45.9975 70.1464 43.6864C71.9923 43.0726 71.9923 40.4616 70.1464 39.8477C63.1971 37.5367 59.9116 29.6022 63.1909 23.0548C64.0627 21.3141 62.2146 19.4701 60.4776 20.3402C53.9299 23.6202 45.9957 20.3338 43.6851 13.3846C43.0714 11.5391 40.461 11.5391 39.8474 13.3846ZM48.4296 11.807C46.2987 5.39832 37.2337 5.39832 35.1028 11.807C33.7531 15.866 29.1187 17.7856 25.2942 15.8698C19.256 12.845 12.8465 19.2556 15.871 25.294C17.7866 29.1186 15.8672 33.7533 11.8082 35.1032C5.3994 37.2345 5.3994 46.2997 11.8082 48.431C15.8672 49.7808 17.7866 54.4155 15.871 58.2402C12.8465 64.2786 19.256 70.6892 25.2942 67.6644C29.1187 65.7486 33.7531 67.6681 35.1028 71.7272C37.2337 78.1358 46.2987 78.1358 48.4296 71.7272C49.7793 67.6681 54.4137 65.7486 58.2382 67.6644C64.2765 70.6892 70.6859 64.2786 67.6615 58.2402C65.7458 54.4155 67.6653 49.7808 71.7243 48.431C78.133 46.2997 78.133 37.2345 71.7243 35.1032C67.6653 33.7533 65.7458 29.1186 67.6615 25.294C70.6859 19.2555 64.2764 12.845 58.2382 15.8698C54.4137 17.7856 49.7793 15.866 48.4296 11.807ZM42.4991 53.0002C48.297 53.0002 52.9979 48.2996 52.9979 42.5002C52.9979 36.7009 48.297 32.0002 42.4991 32.0002C36.7011 32.0002 32.0003 36.7009 32.0003 42.5002C32.0003 48.2996 36.7011 53.0002 42.4991 53.0002ZM42.4991 58.0002C51.0588 58.0002 57.9979 51.0606 57.9979 42.5002C57.9979 33.9398 51.0588 27.0002 42.4991 27.0002C33.9393 27.0002 27.0003 33.9398 27.0003 42.5002C27.0003 51.0606 33.9393 58.0002 42.4991 58.0002Z"
                                        fill="#797B7C" />
                                </svg>
                                <span> Config </span>
                                <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="config">
                                <ul class="side-nav-second-level">
                                    <li>
                                        <a class="_nav-item-text" href="{{ route('config') }}">
                                            <i class="uil-500px"></i>
                                            <span>&nbsp; Application Config</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                    @endif

                    @if (Auth::user()->role == 'contractor')
                        <li class="side-nav-item">
                            <a href="/dashboard/contract" class="side-nav-link _nav-item-text">
                                <i class="uil-clipboard-alt"></i>
                                <span> Contracts </span>
                            </a>
                        </li>
                    @endif

                    @if (Auth::user()->role == 'hea/ber-assessor')
                        <li class="side-nav-item">
                            <a href="/dashboard/assessor-contract" class="side-nav-link _nav-item-text">
                                <i class="uil-clipboard-alt"></i>
                                <span> Contracts </span>
                            </a>
                        </li>
                    @endif

                </ul>

                <!-- end Help Box -->
                <!-- End Sidebar -->

                <div class="clearfix"></div>

            </div>
            <!-- Sidebar -left -->

        </div>
        <!-- Left Sidebar End -->

        <!-- ============================================================== -->
        <!-- Start Page Content here -->
        <!-- ============================================================== -->

        <div class="content-page">
            <div class="content">
                <!-- Topbar Start -->
                <div class="navbar-custom _shadow-1 ">
                    {{-- <ul class="titleHeader"><h3>
                    @if (Request::segment(2) == '')
                    Dashboard
                    @elseif(Request::segment(2) == "client" || Request::segment(2) == "batch" || Request::segment(2) == "contractor" || Request::segment(2) == "assessor" || (Request::segment(2) == "property" && Request::segment(3) == "0"))
                    Create & Manage
                    @elseif(Request::segment(2) == "property" && Request::segment(3) > 0)
                    Properties
                    @elseif(Request::segment(2) == "lookup")
                    Lookups
                    @elseif(Request::segment(2) == "user")
                    Users
                    @elseif(Request::segment(2) == "surveyor")
                    Surveyor
                    @elseif(Request::segment(2) == "config")
                    Config
                    @endif    
                    </h3></ul> --}}
                    <div>
                        @php
                            $result = getMessagesAll();
                            // dd($result);
                        @endphp
                    </div>
                    <ul class="list-unstyled topbar-menu float-end mt-1 mb-0 d-flex align-items-center mynew1">

                        <li class="dropdown notification-list mylist">
                            {{-- @if (auth()->user()->unreadNotifications->where('type', 'App\Notifications\MessageNotification')->count() > 0)
                                <span
                                    class="msg-counter">{{ auth()->user()->unreadNotifications->where('type', 'App\Notifications\MessageNotification')->count() }}</span>
                            @endif --}}
                            <a class="nav-link dropdown-toggle arrow-none" style="top: 10px;position: relative;"
                                data-bs-toggle="dropdown" href="javascript:;" role="button" aria-haspopup="false"
                                aria-expanded="false">

                                <svg class="" width="24" height="25" viewBox="0 0 24 25"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12.0001 3.58905H17.9221C19.1328 3.56312 20.3125 3.97293 21.2464 4.74382C22.1803 5.51471 22.8062 6.5954 23.0101 7.78905C23.0661 8.07963 23.0922 8.37516 23.0881 8.67105C23.0881 11.207 23.0881 13.743 23.0881 16.279C23.1001 17.4715 22.6898 18.6298 21.93 19.5489C21.1701 20.468 20.1096 21.0887 18.9361 21.301C18.5734 21.362 18.2059 21.3901 17.8381 21.385C13.9381 21.385 10.0381 21.385 6.13811 21.385C5.4678 21.4058 4.80002 21.2934 4.17347 21.0543C3.54691 20.8152 2.97401 20.4541 2.48795 19.9921C2.0019 19.53 1.61234 18.9761 1.34184 18.3624C1.07134 17.7488 0.92528 17.0876 0.912109 16.4171C0.912109 13.781 0.912109 11.1451 0.912109 8.50905C0.949595 7.22072 1.47692 5.99516 2.38661 5.08212C3.29631 4.16908 4.51993 3.63726 5.80811 3.59505H12.0001V3.58905ZM21.1501 6.78105C21.0661 6.88305 21.0241 6.96105 20.9641 7.02105C19.0961 8.88905 17.2281 10.757 15.3601 12.625C14.9229 13.0745 14.4 13.4317 13.8224 13.6756C13.2448 13.9195 12.6241 14.0452 11.9971 14.0452C11.3701 14.0452 10.7495 13.9195 10.1718 13.6756C9.59421 13.4317 9.07134 13.0745 8.63411 12.625C6.76611 10.745 4.88811 8.87105 3.00011 7.00305C2.94611 6.94305 2.88611 6.88905 2.81411 6.82305C2.49187 7.34461 2.31765 7.94402 2.31011 8.55705C2.31011 11.1851 2.31011 13.813 2.31011 16.435C2.32429 17.3804 2.70983 18.2823 3.38343 18.9458C4.05703 19.6093 4.96461 19.9812 5.91011 19.9811C9.97411 19.9811 14.0361 19.9811 18.0961 19.9811C19.0393 19.9735 19.9425 19.5992 20.6144 18.9373C21.2864 18.2754 21.6743 17.378 21.6961 16.435C21.6961 13.813 21.6961 11.1851 21.6961 8.55705C21.6827 7.92669 21.4958 7.31221 21.1561 6.78105H21.1501ZM3.75011 5.78505C3.87011 5.87505 3.96611 5.93505 4.04411 6.00705C5.91611 7.87105 7.78411 9.73905 9.64811 11.6111C9.9532 11.9341 10.321 12.1914 10.7291 12.3673C11.1371 12.5432 11.5768 12.6339 12.0211 12.6339C12.4654 12.6339 12.9051 12.5432 13.3131 12.3673C13.7212 12.1914 14.089 11.9341 14.3941 11.6111C16.2901 9.72305 18.1801 7.83105 20.0641 5.93505L20.2501 5.73705C20.1594 5.66833 20.0653 5.60425 19.9681 5.54505C19.3555 5.1678 18.6475 4.97415 17.9281 4.98705H10.0681C8.65211 4.98705 7.24211 4.98705 5.83211 4.98705C5.06187 5.01626 4.3223 5.2965 3.72611 5.78505H3.75011Z"
                                        fill="#1C274C" />
                                </svg>


                            </a>
                            @php
                                    $sum = 0;
                                foreach ($result as $nkey => $noti){
                                    $sum += intval($noti['is_read']);
                                }
                            @endphp
                            <span id="totalIsRead" class="totalIsRead @if($sum == 0) d-none @endif">{{$sum}}</span>
                            <div class="dropdown-menu " aria-labelledby="dropdownMenuButton">
                                {{-- CREATE A NEW MESSAGE --}}
                                {{-- <a class="dropdown-item mark-read" href="javascript:;" id="create-new-message"><i
                                        class="fa fa-comments"> Create a new message</i></a> --}}
                                
                                <div class="myNewMenu" id="myMenuAppend">
                                    @foreach ($result as $nkey => $noti)
                                        @php
                                            $initials = '';
                                            if (isset($noti['firstname'])) {
                                                $ab = substr($noti['firstname'], 0, 1);
                                                $initials .= $ab;
                                            }
                                            if (isset($noti['lastname'])) {
                                                $cd = substr($noti['lastname'], 0, 1);
                                                $initials .= $cd;
                                            }
                                            $initials = strtoupper($initials);
                                        @endphp
                                        <a class="mynewDropDown dropdown-item @if($noti['is_read'] == 1) newMessageC @endif"
                                            href="{{route('chat.open', ['id' => $noti['id']])}}">
                                            <div class="mr-1"
                                                style="font-family: Arial, sans-serif; font-size: 24px; color: #fff; background-color: #1A47A3; border-radius: 5px; display: inline-block; margin: 5px;border-radius: 36px; display: flex; align-items: center; justify-content: center;width:60px;height:60px;padding-left:10px;padding-right:10px;">
                                                {{ $initials }}</div>
                                            <div class="d-flex flex-column">
                                                <b class="mr-2">{{ $noti['name'] }}</b>
                                                <span
                                                    style="text-overflow: ellipsis; overflow: hidden; width: 150px;white-space: nowrap;">{{ $noti['last_msg'] }}</span>
                                            </div>
                                            <div class=" ml-2 mr-2 d-flex flex-column text-end">
                                                <span>{{ date('d-m-Y', strtotime($noti['msg_date'])) }}</span>
                                                <span><small>{{ date('h:i A', strtotime($noti['msg_date'])) }}</small></span>
                                            </div>
                                        </a>
                                    @endforeach
                                </div>
                                <a class="dropdown-item mark-read see-all-message" href="{{ route('chat.open') }}"><i
                                        class="fa fa-comments"> Show all messages</i></a>

                                {{-- @endif --}}
                            </div>

                        </li>

                        @if (Auth::user()->role == 'contractor')
                            <li class="dropdown notification-list mynew2">
                                @if (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJob')->count() > 0)
                                    <span
                                        class="notification-counter">{{ auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJob')->count() }}</span>
                                @endif
                                <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown"
                                    href="javascript:;" role="button" aria-haspopup="false" aria-expanded="false">
                                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M11 0.25C6.71983 0.25 3.25004 3.71979 3.25004 8V8.7041C3.25004 9.40102 3.04375 10.0824 2.65717 10.6622L1.50856 12.3851C0.175468 14.3848 1.19318 17.1028 3.51177 17.7351C4.26738 17.9412 5.02937 18.1155 5.79578 18.2581L5.79768 18.2632C6.56667 20.3151 8.62198 21.75 11 21.75C13.378 21.75 15.4333 20.3151 16.2023 18.2632L16.2042 18.2581C16.9706 18.1155 17.7327 17.9412 18.4883 17.7351C20.8069 17.1028 21.8246 14.3848 20.4915 12.3851L19.3429 10.6622C18.9563 10.0824 18.75 9.40102 18.75 8.7041V8C18.75 3.71979 15.2802 0.25 11 0.25ZM14.3764 18.537C12.1335 18.805 9.86644 18.8049 7.62349 18.5369C8.33444 19.5585 9.57101 20.25 11 20.25C12.4289 20.25 13.6655 19.5585 14.3764 18.537ZM4.75004 8C4.75004 4.54822 7.54826 1.75 11 1.75C14.4518 1.75 17.25 4.54822 17.25 8V8.7041C17.25 9.69716 17.544 10.668 18.0948 11.4943L19.2434 13.2172C20.0086 14.3649 19.4245 15.925 18.0936 16.288C13.4494 17.5546 8.5507 17.5546 3.90644 16.288C2.57561 15.925 1.99147 14.3649 2.75664 13.2172L3.90524 11.4943C4.45609 10.668 4.75004 9.69716 4.75004 8.7041V8Z"
                                            fill="#1C274C" />
                                    </svg>
                                </a>
                                @if (auth()->user()->notifications->where('type', 'App\Notifications\ContractorJob')->count() > 0)
                                    <div class="dropdown-menu myNewMenu" aria-labelledby="dropdownMenuButton">

                                        @if (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJob')->count() > 0)
                                            <a class="dropdown-item mark-read"
                                                href="{{ route('notification.markAsRead') }}"><i class="fa fa-check"
                                                    aria-hidden="true"></i>Mark all as read</a>
                                        @endif

                                        @foreach (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJob')->all() as $notification)
                                            <div class="row mynewNoti mb-1 mt-1 d-flex">
                                                <div class="col">
                                                    <a class="dropdown-item un-read-notification"
                                                        href="/dashboard/contract/show-contract/{{ Crypt::encrypt($notification->data['property_id']) }}?notify=true">{{ $notification->data['notify'] }}</a>
                                                </div>
                                                <div class="d-flex flex-column col-3 justify-content-between text-end">
                                                    <span style="color: #1A47A3;opacity:0;">X</span>
                                                    <span><small
                                                            style="color: #1A47A3;">{{ date('d/m/Y', strtotime($notification->created_at)) }}</small></span>
                                                </div>
                                            </div>
                                        @endforeach

                                        @foreach (auth()->user()->readNotifications->where('type', 'App\Notifications\ContractorJob')->all() as $notification)
                                            <div class="d-flex mb-1 mt-1 mynewNoti row">
                                                <div class="col">
                                                    <a class="dropdown-item"
                                                        href="/dashboard/contract/show-contract/{{ Crypt::encrypt($notification->data['property_id']) }}">{{ $notification->data['notify'] }}</a>

                                                </div>
                                                <div class="d-flex flex-column col-3 justify-content-between text-end">
                                                    <span style="color: #1A47A3;opacity:0;">X</span>
                                                    <span><small
                                                            style="color: #1A47A3;">{{ date('d/m/Y', strtotime($notification->created_at)) }}</small></span>
                                                </div>
                                            </div>
                                        @endforeach
                                    </div>
                                @endif
                            </li>
                        @elseif(Auth::user()->role == 'admin')
                            <li class="dropdown notification-list mynew2">
                                @if (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->count() > 0)
                                    <span
                                        class="notification-counter">{{ auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->count() }}</span>
                                @endif
                                <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown"
                                    href="javascript:;" role="button" aria-haspopup="false" aria-expanded="false">
                                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M11 0.25C6.71983 0.25 3.25004 3.71979 3.25004 8V8.7041C3.25004 9.40102 3.04375 10.0824 2.65717 10.6622L1.50856 12.3851C0.175468 14.3848 1.19318 17.1028 3.51177 17.7351C4.26738 17.9412 5.02937 18.1155 5.79578 18.2581L5.79768 18.2632C6.56667 20.3151 8.62198 21.75 11 21.75C13.378 21.75 15.4333 20.3151 16.2023 18.2632L16.2042 18.2581C16.9706 18.1155 17.7327 17.9412 18.4883 17.7351C20.8069 17.1028 21.8246 14.3848 20.4915 12.3851L19.3429 10.6622C18.9563 10.0824 18.75 9.40102 18.75 8.7041V8C18.75 3.71979 15.2802 0.25 11 0.25ZM14.3764 18.537C12.1335 18.805 9.86644 18.8049 7.62349 18.5369C8.33444 19.5585 9.57101 20.25 11 20.25C12.4289 20.25 13.6655 19.5585 14.3764 18.537ZM4.75004 8C4.75004 4.54822 7.54826 1.75 11 1.75C14.4518 1.75 17.25 4.54822 17.25 8V8.7041C17.25 9.69716 17.544 10.668 18.0948 11.4943L19.2434 13.2172C20.0086 14.3649 19.4245 15.925 18.0936 16.288C13.4494 17.5546 8.5507 17.5546 3.90644 16.288C2.57561 15.925 1.99147 14.3649 2.75664 13.2172L3.90524 11.4943C4.45609 10.668 4.75004 9.69716 4.75004 8.7041V8Z"
                                            fill="#1C274C" />
                                    </svg>
                                </a>
                                @if (auth()->user()->notifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->count() > 0)
                                    <div class="dropdown-menu myNewMenu " aria-labelledby="dropdownMenuButton">

                                        @if (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->count() > 0)
                                            <a class="dropdown-item mark-read"
                                                href="{{ route('notification.markAsRead') }}"><i class="fa fa-check"
                                                    aria-hidden="true"></i>Mark all as read</a>
                                        @endif

                                        @foreach (auth()->user()->unreadNotifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->all() as $notification)
                                            <div class="row mynewNoti mb-1 mt-1 d-flex">
                                                <div class="col">
                                                    <a class="dropdown-item un-read-notification"
                                                        href="javascript:;">{{ $notification->data['notify'] }}</a>
                                                </div>
                                                <div class="d-flex flex-column col-3 justify-content-between text-end">
                                                    <span style="color: #1A47A3;opacity:0;">X</span>
                                                    <span><small
                                                            style="color: #1A47A3;">{{ date('d/m/Y', strtotime($notification->created_at)) }}</small></span>
                                                </div>
                                            </div>
                                        @endforeach

                                        @foreach (auth()->user()->readNotifications->where('type', 'App\Notifications\ContractorJobAcceptReject')->all() as $notification)
                                            <div class="d-flex mb-1 mt-1 mynewNoti row">
                                                <div class="col">
                                                    <a class="dropdown-item"
                                                        href="javascript:;">{{ $notification->data['notify'] }}</a>

                                                </div>
                                                <div class="d-flex flex-column col-3 justify-content-between text-end">
                                                    <span style="color: #1A47A3;opacity:0;">X</span>
                                                    <span><small
                                                            style="color: #1A47A3;">{{ date('d/m/Y', strtotime($notification->created_at)) }}</small></span>
                                                </div>
                                            </div>
                                        @endforeach
                                    </div>
                                @endif
                            </li>
                        @endif
                        <li class="dropdown notification-list">
                            <span class="account-user-avatar" style="top: 10px;position: relative;">
                                @if (Auth::user())
                                    @php
                                        $user = \App\Models\User::find(Auth::user()->id);
                                    @endphp
                                    @if ($user->profile_img == null)
                                        <img src="{{ asset('assets/images/users/avatar-1.jpg') }}" alt="user-image"
                                            class="rounded-circle" style="height: 36px;width: 36px;">
                                    @else
                                        <img src="{{ asset('assets/images/admin/' . $user->profile_img) }}"
                                            alt="user-image" class="rounded-circle"
                                            style="height: 36px;width: 36px;">
                                    @endif
                                @else
                                @endif
                            </span>
                            {{-- <a class="nav-link dropdown-toggle arrow-none me-0" data-bs-toggle="dropdown"
                                href="#" role="button" aria-haspopup="false" aria-expanded="false"> --}}
                            <svg data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false"
                                aria-expanded="false" style="position: relative; top: 10px; left: 5px;"
                                class="propcsv2" width="15" height="9" viewBox="0 0 15 9" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M0.293016 2.20711L6.65698 8.57107C7.0475 8.96159 7.68067 8.96159 8.07119 8.57107L14.4352 2.2071C14.8257 1.81658 14.8257 1.18342 14.4352 0.792892C14.0446 0.402368 13.4115 0.402368 13.0209 0.792892L8.36408 5.44975L7.36414 6.36426L6.36408 5.44975L1.70723 0.792893C1.3167 0.402369 0.68354 0.402369 0.293015 0.792893C-0.097509 1.18342 -0.0975089 1.81658 0.293016 2.20711Z"
                                    fill="black" />
                            </svg>
                            {{-- </a> --}}
                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown dgrid"
                                style="color:#1A47A3 !important;">
                                <span style="text-align: center; background: #e7e7e7; padding: 15px;">
                                    <span
                                        class="account-position text-uppercase"><b>{{ Auth::user()->role }}</b></span>
                                    <span class="account-user-name">{{ Auth::user()->email }}</span>

                                </span>
                                <a class="text-secondary" href="{{ route('admin-profile') }}"
                                    style="padding: 10px 0px 0px 0px;color:#1A47A3 !important;"
                                    class="dropdown-item notify-item">
                                    <span class="mdi mdi-account-circle"></span>
                                    <span>My Profile</span>
                                </a>
                                <a class="text-secondary" href="{{ route('logout') }}"
                                    style="padding: 10px 0px 0px 0px;color:#1A47A3 !important;"
                                    class="dropdown-item notify-item"
                                    onclick="event.preventDefault();
                                                     document.getElementById('logout-form').submit();">
                                    <i class="mdi mdi-logout me-1" style="color: red;"></i>
                                    <span>Logout</span>
                                </a>

                                <form id="logout-form" action="{{ route('logout') }}" method="POST"
                                    class="d-none">
                                    @csrf
                                </form>
                            </div>
                        </li>

                        {{-- <li class="dropdown notification-list">
                            <a class="nav-link dropdown-toggle nav-user arrow-none me-0" data-bs-toggle="dropdown"
                                href="#" role="button" aria-haspopup="false" aria-expanded="false">
                                <span class="account-user-avatar">
                                    <img src="{{ asset('assets/images/users/avatar-1.jpg') }}" alt="user-image"
                                        class="rounded-circle">
                                </span>
                                <span>
                                    <span class="account-user-name">{{ Auth::user()->email }}</span>
                                    <span class="account-position text-uppercase">{{ Auth::user()->role }}</span>
                                </span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
                                <a class="text-secondary" href="{{ route('logout') }}"
                                    class="dropdown-item notify-item"
                                    onclick="event.preventDefault();
                                                     document.getElementById('logout-form').submit();">
                                    <i class="mdi mdi-logout me-1"></i>
                                    <span>Logout</span>
                                </a>

                                <form id="logout-form" action="{{ route('logout') }}" method="POST"
                                    class="d-none">
                                    @csrf
                                </form>
                            </div>
                        </li> --}}

                    </ul>
                    <button class="button-menu-mobile open-left">
                        <i class="mdi mdi-menu menClr"></i>
                        {{-- <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                            xmlns="http://www.w3.org/2000/svg" class="mdi mdi-menu cliclef">
                            <rect width="32" height="32" rx="16" fill="#E2E8ED" />
                            <path
                                d="M17.5287 20.4712L13.286 16.2286C13.0257 15.9683 13.0257 15.5461 13.286 15.2858L17.5287 11.0432C17.789 10.7828 18.2111 10.7828 18.4715 11.0432C18.7318 11.3035 18.7318 11.7256 18.4715 11.986L15.3669 15.0905L14.7572 15.7572L15.3669 16.4239L18.4715 19.5284C18.7318 19.7888 18.7318 20.2109 18.4715 20.4712C18.2111 20.7316 17.789 20.7316 17.5287 20.4712Z"
                                fill="black" />
                        </svg> --}}
                        {{-- <i ></i> --}}
                    </button>

                </div>
                <!-- end Topbar -->

                <!-- Start Content-->
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box">


                                <div id="main-container">
                                    @if (\Session::has('success'))
                                        <div class="alert alert-success">
                                            <ul>
                                                <span>{!! \Session::get('success') !!}</span>
                                            </ul>
                                        </div>
                                    @endif
                                    @if (\Session::has('error'))
                                        <div class="alert alert-danger">
                                            <ul>
                                                <span>{!! \Session::get('error') !!}</span>
                                            </ul>
                                        </div>
                                    @endif
                                    @yield('content')

                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- end page title -->

                </div> <!-- container -->

            </div> <!-- content -->

            <!-- Footer Start -->
            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-6">
                            <script>
                                document.write(new Date().getFullYear())
                            </script>
                            © {{ config('app.name', 'Laravel') }}
                        </div>

                    </div>
                </div>
            </footer>
            <!-- end Footer -->

        </div>

        <!-- ============================================================== -->
        <!-- End Page content -->
        <!-- ============================================================== -->

    </div>
    <!-- END wrapper -->

    <div class="rightbar-overlay"></div>
    <!-- /End-bar -->


    {{-- MESSAGE MODAL --}}
    <div class="modal fade" id="newMessage" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="send-message-form">
                    @csrf
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Create a new message</h4>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body" id="new-message-body"></div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal"
                            onclick="closeMsgModal();">Cancel</button>
                        <button type="button" id="send-message-button" class="btn btn-primary">Send</button>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <!-- bundle -->
    <script src="{{ asset('assets/js/vendor.min.js') }}"></script>
    <script src="{{ asset('assets/js/app.min.js') }}"></script>
    <script src="{{ asset('assets/js/bootstrap.js') }}"></script>
    <!-- third party js -->
    <script src="{{ asset('assets/js/_vendor/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/dataTables.bootstrap5.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/dataTables.responsive.min.js') }}"></script>


    <script src="{{ asset('assets/js/_vendor/dataTables.buttons.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/jszip.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/pdfmake.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/vfs_fonts.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/buttons.html5.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/buttons.print.min.js') }}"></script>
    <script src="{{ asset('assets/js/_vendor/dataTables.fixedColumns.min.js') }}"></script>
    <script src="{{ asset('assets/plugins/fullcalendar/index.global.min.js') }}"></script>
    <script src="{{ asset('assets/plugins/select2/select2.min.js') }}"></script>
    <script src="{{ asset('assets/plugins/jqueryui/jquery-ui.min.js') }}"></script>
    @stack('scripts')

    <!-- third party js ends -->
    <script>
       // Function to make the AJAX call
        function makeAjaxCall() {
            $.ajax({
                url: "{{ route('openChatNoti') }}", // Replace with your actual API endpoint
                type: 'GET',
                success: function(data) {
                    $('#myMenuAppend').empty();
                    var html = '';
                    var totalIsRead = 0;
                    $.each(data, function(index, noti) {
                        totalIsRead += parseInt(noti.is_read);
                        var initials = '';
                        if (noti.hasOwnProperty('firstname')) {
                            initials += noti.firstname.substr(0, 1);
                        }
                        if (noti.hasOwnProperty('lastname') && noti.lastname !== "" && noti.lastname !==
                            null) {
                            initials += noti.lastname.substr(0, 1);
                        }
                        initials = initials.toUpperCase();
                        if(noti.is_read == 1){
                            html += '<a class="mynewDropDown dropdown-item newMessageC" href="' +'/dashboard/contractor-chat/' + noti.id + '">';
                        }else{
                        html += '<a class="mynewDropDown dropdown-item" href="' +'/dashboard/contractor-chat/' + noti.id + '">';
                        }
                        html +=
                            '<div class="mr-1" style="font-family: Arial, sans-serif; font-size: 24px; color: #fff; background-color: #1A47A3; border-radius: 5px; display: inline-block; margin: 5px;border-radius: 36px; display: flex; align-items: center; justify-content: center;width:60px;height:60px;padding-left:10px;padding-right:10px;">';
                        html += initials + '</div>';
                        html += '<div class="d-flex flex-column">';
                        html += '<b class="mr-2">' + noti.name + '</b>';
                        html +=
                            '<span style="text-overflow: ellipsis; overflow: hidden; width: 150px;white-space: nowrap;">' +
                            noti.last_msg + '</span>';
                        html += '</div>';
                        html += '<div class=" ml-2 mr-2 d-flex flex-column text-end">';
                        html += '<span>' + formatDate3(noti.msg_date, 'd-m-Y') + '</span>';
                        html += '<span><small>' + formatDate4(noti.msg_date, 'hh:mm A') +
                            '</small></span>';
                        html += '</div>';
                        html += '</a>';

                        // Append the generated HTML to #myMenuAppend

                    });
                    
                    $('#myMenuAppend').append(html);
                    $('#totalIsRead').text(totalIsRead);
                    if(totalIsRead > 0){
                        $('#totalIsRead').removeClass('d-none');
                    }else{
                        $('#totalIsRead').addClass('d-none');
                    }
                },
                error: function(xhr, status, error) {
                    console.error('Error:', status, error);
                }
            });
        }
        $('.mylist').on('click', function(){
            $('#totalIsRead').addClass('d-none');
        });
        // Set interval to make the AJAX call every 10 seconds
        setInterval(makeAjaxCall, 10000);

        function formatDate3(dateString) {
            var options = {
                month: '2-digit',
                day: '2-digit',
                year: 'numeric'
            };
            var formattedDate = new Date(dateString).toLocaleDateString('en-GB', options);
            return formattedDate.replace(/(\d+)\/(\d+)\/(\d+)/, '$1-$2-$3');
        }

        function formatDate4(dateString, format) {
            // Parse the date string without using Date object
            var match = dateString.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/);

            if (!match) {
                // Handle invalid date string
                return 'Invalid Date';
            }

            var year = parseInt(match[1], 10);
            var month = parseInt(match[2], 10) - 1; // Month is zero-based
            var day = parseInt(match[3], 10);
            var hours = parseInt(match[4], 10);
            var minutes = parseInt(match[5], 10);
            var seconds = parseInt(match[6], 10);

            // Format the time
            var ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? (hours < 10 ? '0' + hours : hours) : 12; // Handle midnight
            minutes = minutes < 10 ? '0' + minutes : minutes;
            var formattedTime = hours + ':' + minutes + ' ' + ampm;

            return formattedTime;
        }
    </script>
    <script>
        setTimeout(() => {
            $('.alert').alert('close');
        }, 5000);
        $(document).on('click', '.propcsv2', function() {
            if (!$('.dgrid').hasClass('dgrid2')) {
                $('.dgrid').addClass('dgrid2 show');
                $('.propcsv2').addClass('trans180');
            } else {
                $('.dgrid').removeClass('dgrid2 show');
                $('.propcsv2').removeClass('trans180');
            }
        });
        // $(document).on('click', '.cliclef', function() {
        //     if (!$('body.show').hasClass('sidebar-enable')) {
        //         $(".cliclef").addClass("rotate180");
        //     } else {
        //         $(".cliclef").removeClass("rotate180");
        //     }
        // })

        $(document).ready(function() {
            var url = window.location.href;
            var dashboardIndex = url.indexOf("dashboard/");
            if (dashboardIndex !== -1) {
                var valueAfterDashboard = url.substring(dashboardIndex + "dashboard/".length);
                var nextSlashIndex = valueAfterDashboard.indexOf("/");
                if (nextSlashIndex !== -1) {
                    var dashboardValue = valueAfterDashboard.substring(0, nextSlashIndex);
                    if (dashboardValue == "property") {
                    } else {
                        localStorage.setItem('selectedFilter', "mea");
                    }
                }else{
                    localStorage.setItem('selectedFilter', "mea");
                }
            }else{
                localStorage.setItem('selectedFilter', "mea");
            }
            $('input[type="search"]').on('keyup', function() {
                var val = $(this).val();
                if (val === "") {
                    $('.fa-search').removeClass('d-none');
                } else {
                    $('.fa-search').addClass('d-none');
                }
            });
            $('#calendar_jobs').select2({
                placeholder: "Select Jobs"
            });
            $('#properties_jobs').select2({
                placeholder: "Select Jobs"
            });
            $('#gantt-filter').select2({
                placeholder: "Select Jobs"
            });

            // $('#dashboard-contractor-jobs-datatable_filter input[type="search"]').attr('placeholder', 'Search');
            var searchInput = $('.dataTables_filter input[type="search"]');
            searchInput.attr('placeholder', 'Search');
            searchInput.css('border', '1px solid #1A47A3');
            var icon = $('<i/>', {
                class: 'fas fa-search'
            }).css({
                position: 'absolute',
                right: '10px',
                top: '50%',
                transform: 'translateY(-50%)',
                color: '#aaa' // Adjust the color as needed
            });
            $('.dataTables_filter label').append(icon);



            $('[data-toggle="tooltip"]').tooltip();
            $('#dashboard-contractor-jobs-datatable').DataTable().columns.adjust().draw();
        });

        // function open_chatbox(e) {
        //     var popupWinWidth = 500;
        //     var popupWinHeight = 600;
        //     var pageTitle = "ChatBox";
        //     var pageURL = e.href;
        //     var left = (screen.width - popupWinWidth) / 2;
        //     var top = (screen.height - popupWinHeight) / 4;
        //     var strWindowFeatures =
        //         `directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no,width=${popupWinWidth},height=${popupWinHeight},left=${left},top=${top}`;
        //     var myWindow = window.open(pageURL, pageTitle, strWindowFeatures);
        // }
    </script>

    <script>
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });
        let to_users = '';
        $(document).on("click", "#create-new-message", function(e) {
            $.ajax({
                url: "{{ route('dashboard.contractor-admin') }}",
                type: 'POST',
                success: function(data) {
                    $("#new-message-body").html(data.html);
                    to_users = $('#to_user').find('option');
                    $('#newMessage').modal('show');
                }
            });
        });

        $(document).on("change", "#select_type", function(e) {

            var selected_option = $('#select_type option:selected').val();

            var elem = $('#to_user').html(to_users.filter(`[user_type="${selected_option}"]`));

            if (selected_option == 'contractor') {
                $("#admin-user-select").removeClass('d-none');
                $("label[for*='to_user']").html("Contractor");

            } else if (selected_option == 'accessor') {
                $("#admin-user-select").removeClass('d-none');
                $("label[for*='to_user']").html("HEA/BER Assessors");
            } else {
                $("#admin-user-select").addClass('d-none');
                $("label[for*='to_user']").html("");
            }
        }).trigger('change');


        $(document).on("click", "#send-message-button", function(e) {
            e.preventDefault();
            $('#send-message-button').prop('disabled', true);
            var to_user = $("#to_user").val();
            var from_user = $("#from_user").val();
            var content = $("#content").val();

            $.ajax({
                type: 'POST',
                url: "{{ route('chat.send-new-message') }}",
                data: {
                    to_user: to_user,
                    from_user: from_user,
                    content: content
                },
                success: function(data) {
                    if (data.success) {
                        $("#send-message-form").trigger('reset');
                        $('#newMessage').modal('hide');
                        $('#send-message-button').prop('disabled', false);
                        window.open(data.url, '_blank', 'width=700,height=700');
                        return false;
                    }
                }
            });

        });

        function closeMsgModal() {
            $('#newMessage').modal('hide');
        }

        $('#contractor-properties-table').DataTable();

        $('#admin-users-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('user') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'firstname',
                    name: 'firstname'
                },
                {
                    data: 'lastname',
                    name: 'lastname'
                },
                {
                    data: 'email',
                    name: 'email'
                },
                {
                    data: 'usertype',
                    name: 'usertype'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });


        $('#surveyor-users-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('surveyor') }}"
            },
            columns: [{
                    data: 'user_id',
                    name: 'user_id'
                },
                {
                    data: 'full_name',
                    name: 'full_name'
                },
                {
                    data: 'email',
                    name: 'email'
                },
                {
                    data: 'phone_number',
                    name: 'phone_number'
                },
                {
                    data: 'appname',
                    name: 'appname'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });


        $('#clients-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('client') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'name',
                    name: 'name'
                },
                {
                    data: 'email',
                    name: 'email'
                },
                {
                    data: 'phone',
                    name: 'phone'
                },
                {
                    data: 'address',
                    name: 'address1',
                    searchable: false
                },
                {
                    data: 'eircode',
                    name: 'eircode'
                },
                {
                    data: 'properties',
                    name: 'properties',
                    orderable: false,
                    searchable: false
                },
                {
                    data: 'batches',
                    name: 'batches',
                    orderable: false,
                    searchable: false
                },
                {
                    data: 'notes',
                    name: 'notes'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                },
            ]
        });


        $('#batches-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('batch') }}?client_id=<?= isset($_GET['client_id']) ? $_GET['client_id'] : '' ?>&batch_id=<?= isset($_GET['batch_id']) ? $_GET['batch_id'] : '' ?>"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'our_ref',
                    name: 'our_ref'
                },
                {
                    data: 'scheme',
                    name: 'scheme.scheme',
                    orderable: false
                },
                {
                    data: 'quote',
                    name: 'quote'
                },
                {
                    data: 'invoice',
                    name: 'invoice'
                },
                {
                    data: 'start_date',
                    name: 'start_date'
                },
                {
                    data: 'end_date',
                    name: 'end_date'
                },
                {
                    data: 'status',
                    name: 'status'
                },
                {
                    data: 'properties',
                    name: 'properties',
                    orderable: false,
                    searchable: false
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        const propertiesDataTable = $('#properties-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                {{-- url: "{{route('property', isset($_GET['scheme_id']) ? $_GET['scheme_id'] : 0)}}?client_id=<?= isset($_GET['client_id']) ? $_GET['client_id'] : '' ?>&batch_id=<?= isset($_GET['batch_id']) ? $_GET['batch_id'] : '' ?>" --}}
                url: window.location.href,
                data: function(data) {
                    data.property_start_date_filter = $("#property_start_date_filter").val();
                    data.property_end_date_filter = $("#property_end_date_filter").val();
                }
            },
            columns: [{
                    data: 'id',
                    name: 'properties.id'
                },
                {
                    data: 'scheme',
                    name: 'batch.scheme.scheme'
                },
                {
                    data: 'ref',
                    name: 'batch.our_ref'
                },
                {
                    data: 'client',
                    name: 'client.name'
                },
                {
                    data: 'address',
                    name: 'address'
                },
                {
                    data: 'start_date',
                    name: 'properties.start_date'
                },
                {
                    data: 'end_date',
                    name: 'properties.end_date'
                },
                {
                    data: 'hea_status',
                    name: 'hea_status'
                },
                {
                    data: 'eircode',
                    name: 'eircode'
                },
                {
                    data: 'contractor_status',
                    name: 'contractor_status'
                },
                {
                    data: 'status',
                    name: 'status'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#property_batch_filter').change(function() {
            propertiesDataTable
                .columns(2)
                .search($("#property_batch_filter").val())
                .columns(1)
                .search($("#property_scheme_filter").val())
                .columns(10)
                .search($("#property_status_filter").val())
                .draw();
        });

        $('#property_scheme_filter').change(function() {
            propertiesDataTable
                .columns(2)
                .search($("#property_batch_filter").val())
                .columns(1)
                .search($("#property_scheme_filter").val())
                .columns(10)
                .search($("#property_status_filter").val())
                .draw();
        });

        $('#property_status_filter').change(function() {
            propertiesDataTable
                .columns(2)
                .search($("#property_batch_filter").val())
                .columns(1)
                .search($("#property_scheme_filter").val())
                .columns(10)
                .search($("#property_status_filter").val())
                .draw();
        });

        $("#property_start_date_filter").change(function() {
            propertiesDataTable
                .columns(2)
                .search($("#property_batch_filter").val())
                .columns(1)
                .search($("#property_scheme_filter").val())
                .columns(10)
                .search($("#property_status_filter").val())
                .draw();
        });

        $("#property_end_date_filter").change(function() {
            propertiesDataTable
                .columns(2)
                .search($("#property_batch_filter").val())
                .columns(1)
                .search($("#property_scheme_filter").val())
                .columns(10)
                .search($("#property_status_filter").val())
                .draw();
        });

        $('#contractor-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('contractor') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'company',
                    name: 'company'
                },
                {
                    data: 'firstname',
                    name: 'firstname'
                },
                {
                    data: 'email',
                    name: 'email'
                },
                {
                    data: 'phone',
                    name: 'phone'
                },
                {
                    data: 'address',
                    name: 'address'
                },
                {
                    data: 'jobs',
                    name: 'jobs'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#assessor-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('assessor') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'company',
                    name: 'company'
                },
                {
                    data: 'firstname',
                    name: 'firstname'
                },
                {
                    data: 'email',
                    name: 'email'
                },
                {
                    data: 'phone',
                    name: 'phone'
                },
                {
                    data: 'address',
                    name: 'address'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#contract-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('contract') }}"
            },
            columns: [{
                    data: 'address1',
                    name: 'address1',
                    orderable: false
                },
                {
                    data: 'batch',
                    name: 'batch',
                    orderable: false
                },
                {
                    data: 'wh_fname',
                    name: 'wh_fname',
                    orderable: false
                },
                {
                    data: 'wh_lname',
                    name: 'wh_lname',
                    orderable: false
                },
                {
                    data: 'end_date',
                    name: 'end_date',
                    orderable: false
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#accessor-contract-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('assessor-contract') }}"
            },
            columns: [{
                    data: 'address1',
                    name: 'address1'
                },
                {
                    data: 'batch',
                    name: 'batch'
                },
                {
                    data: 'wh_fname',
                    name: 'wh_fname'
                },
                {
                    data: 'wh_lname',
                    name: 'wh_lname'
                },
                {
                    data: 'end_date',
                    name: 'end_date'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#logs-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('dashboard') }}"
            },
            columns: [{
                    data: 'created_at',
                    name: 'created_at'
                },
                {
                    data: 'author',
                    name: 'author'
                },
                {
                    data: 'type',
                    name: 'type'
                },
                // {data: 'address', name: 'address'},
                {
                    data: 'first_name',
                    name: 'first_name'
                },
                {
                    data: 'last_name',
                    name: 'last_name'
                },
                // {
                //     data: 'address',
                //     name: 'address'
                // },
                {
                    data: null,
                    render: function(data, type, row) {
                        // Concatenate address, city, state, and country, handling null values
                        let addressParts = [row.house_num, row.address1, row.address2, row.address3, row
                            .county, row.eircode
                        ];
                        let filteredAddressParts = addressParts.filter(part => part !== null && part !==
                            undefined);
                        return filteredAddressParts.join(', ');
                    },
                    name: 'full_address'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#post-work-logs-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('dashboard.postWorkLog') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: null,
                    render: function(data, type, row) {
                        // Concatenate address, city, state, and country, handling null values
                        let addressParts = [row.house_num, row.address1, row.address2, row.address3, row
                            .county, row.eircode
                        ];
                        let filteredAddressParts = addressParts.filter(part => part !== null && part !==
                            undefined);
                        return filteredAddressParts.join(', ');
                    },
                    name: 'full_address'
                },
                {
                    data: 'notes',
                    name: 'notes'
                },
                {
                    data: 'status',
                    name: 'status'
                },
                // { data: 'status', name: 'status',
                //     createdCell: function (td, cellData, rowData, row, col) {
                //         if (cellData === 'In progress') {
                //             $(td).addClass('cusmarg badge badge-infos');
                //         } else if (cellData === 'Opened') {
                //             $(td).addClass('cusmarg badge badge-infos');
                //         } else if (cellData === 'Pending') {
                //             $(td).addClass('cusmarg badge badge-warning');
                //         }else if (cellData === 'Complete') {
                //             $(td).addClass('cusmarg badge badge-success');
                //         }else if (cellData === 'Accepted') {
                //             $(td).addClass('cusmarg badge badge-success-light');
                //         }
                //     }
                // },
                {
                    data: 'date_added',
                    name: 'date_added'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#property-notes-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            responsive: true,
            select: true,
            pageLength: 5,
            "processing": true,
            empty: 'fff',
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> ',
                emptyTable: "No notes available"
            },
            ajax: {
                url: "{{ route('property.note', isset($property) ? $property->id : 1) }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'text',
                    name: 'text'
                },
                {
                    data: 'created_at',
                    name: 'created_at'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#job-lookup-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            responsive: true,
            select: true,
            pageLength: 25,
            "processing": true,
            empty: 'fff',
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('lookup.job') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'title',
                    name: 'title'
                },
                {
                    data: 'type',
                    name: 'type'
                },
                {
                    data: 'actions',
                    name: 'actions',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#job-document-lookup-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            responsive: true,
            select: true,
            pageLength: 10,
            "processing": true,
            empty: 'fff',
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('lookup.job.document', isset($lookup) ? $lookup->id : 0) }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'title',
                    name: 'title'
                },
                {
                    data: 'actions',
                    name: 'actions',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#schemes-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [2, "desc"]
            ],
            serverSide: true,
            responsive: true,
            select: true,
            pageLength: 10,
            "processing": true,
            empty: 'fff',
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('lookup.scheme') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'scheme',
                    name: 'scheme'
                },
                {
                    data: 'is_active',
                    name: 'is_active'
                },
                {
                    data: 'actions',
                    name: 'actions',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        const contractorJobsDataTable = $('#dashboard-contractor-jobs-datatable').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            order: [
                [0, "desc"]
            ],
            serverSide: true,
            pageLength: 10,
            responsive: true,
            select: true,
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            ajax: {
                url: "{{ route('dashboard.contractor-jobs') }}"
            },
            columns: [{
                    data: 'id',
                    name: 'id'
                },
                {
                    data: 'wh_fname',
                    name: 'wh_fname',
                    orderable: false
                },
                {
                    data: 'address',
                    name: 'address',
                    orderable: false
                },
                {
                    data: 'eircode',
                    name: 'property.eircode',
                    orderable: false
                },
                {
                    data: 'phone',
                    name: 'phone',
                    orderable: false
                },
                {
                    data: 'property.created_at',
                    name: 'property.created_at'
                },
                {
                    data: 'property.wh_mprn',
                    name: 'property.wh_mprn',
                    orderable: false
                },
                {
                    data: 'scheme',
                    name: 'property.batch.scheme.scheme',
                    orderable: false
                },
                {
                    data: 'property.batch.our_ref',
                    name: 'property.batch.our_ref',
                    orderable: false
                },
                {
                    data: 'job',
                    name: 'job',
                    orderable: false,
                    searchable: false
                },
                {
                    data: 'surveyor.full_name',
                    name: 'surveyor.full_name',
                    orderable: false
                },
                {
                    data: 'start_date',
                    name: 'start_date'
                },
                {
                    data: 'end_date',
                    name: 'end_date'
                },
                {
                    data: 'status',
                    name: 'status'
                },
                {
                    data: 'action',
                    name: 'action',
                    orderable: false,
                    searchable: false
                }
            ]
        });

        $('#dashboard_job_filter_select').change(function() {
            contractorJobsDataTable
                .columns(8)
                .search($("#dashboard_job_filter_select").val())
                .draw();
        });

        let jobs = [];
        @if (isset($jobs))
            jobs = @json($jobs);
        @endif

        $("#tablecontents").sortable({
            items: "tr",
            cursor: 'move',
            opacity: 0.6,
            update: function() {
                saveOrder();
            }
        });

        function saveOrder() {
            var order = [];

            $('#tablecontents tr').each(function(index, element) {
                order.push({
                    id: $(this).attr('data-id'),
                    contractor_id: $(this).attr('data-contractor'),
                    position: index + 1
                });
            });

            $.ajax({
                type: "POST",
                dataType: "json",
                url: "{{ route('dashboard.property-contracts-order') }}",
                data: {
                    order: order
                },
                success: function(response) {

                }
            });

        }

        const propertyContractsDataTable = $('#dashboard_properties_with_statuses').DataTable({
            lengthMenu: [
                [10, 25, 50, 100, 250, 500],
                [10, 25, 50, 100, 250, 500],
            ],
            // dom: 'Bfrtip',
            dom: 'fBrtlp',
            buttons: [{
                extend: 'collection',
                text: 'Export',
                buttons: [
                    'copy',
                    'excel',
                    'csv',
                    'pdf',
                    'print'
                ]
            }],
            serverSide: true,
            pageLength: 25,
            responsive: false,
            select: true,
            scrollX: true,
            // scrollCollapse: true,
            fixedColumns: {
                left: 1
            },
            "processing": true,
            "language": {
                "paginate": {
                    "previous": "<",
                    "next": ">"
                },
                processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
            },
            createdRow: function(row, data, dataIndex) {
                $(row).attr('data-contractor', "{{ request('contractor_id') }}");
            },
            ajax: {
                url: "{{ route('dashboard.property-contracts') }}",
                type: 'POST',
                data: function(data) {
                    data.batch_id = $('#properties_batch').val();;
                    data.contractor_id = "{{ request('contractor_id') }}";
                    data.scheme = $('#properties_scheme').val();
                    data.selected_jobs = $('#properties_jobs').val();
                }
            },
            columns: [{
                    data: 'address',
                    name: 'address',
                    class: "px-1 py-0 border-b bg-light h-33px align-middle",
                    orderable: false
                },
                {
                    data: 'status',
                    name: 'properties.status',
                    class: "px-1 py-0 align-middle text-uppercase"
                },
                ...(jobs?.length ? jobs : []).map((job, key) => ({
                    data: 'c_' + job.id,
                    name: 'c_' + job.id,
                    orderable: false,
                    searchable: false,
                    class: "px-1 py-0 align-middle"
                }))
            ],

        });

        $("#properties_jobs,#properties_batch,#properties_scheme").on('change', function() {
            propertyContractsDataTable.draw();
        });

        @if (isset($property) && $property->id)

            $('#property-surveyor-sign-logs').DataTable({
                lengthMenu: [
                    [10, 25, 50, 100, 250, 500],
                    [10, 25, 50, 100, 250, 500],
                ],
                dom: 'fBrtlp',
                buttons: [{
                    extend: 'collection',
                    text: 'Export',
                    buttons: [
                        'copy',
                        'excel',
                        'csv',
                        'pdf',
                        'print'
                    ]
                }],
                serverSide: true,
                pageLength: 25,
                responsive: true,
                select: true,
                "processing": true,
                "language": {
                    "paginate": {
                        "previous": "<",
                        "next": ">"
                    },
                    processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
                },
                ajax: {
                    url: "{{ route('property.surveyorLogs', $property->id) }}"
                },
                columns: [{
                        data: 'surveyor',
                        name: 'surveyor',
                        orderable: false,
                        searchable: false,
                        width: 100
                    },
                    {
                        data: 'type',
                        name: 'type',
                        orderable: false,
                        searchable: false
                    },
                    {
                        data: 'date',
                        name: 'date',
                        orderable: false,
                        searchable: false
                    },
                    {
                        data: 'time',
                        name: 'time',
                        orderable: false,
                        searchable: false
                    },
                    {
                        data: 'text',
                        name: 'text',
                        orderable: false,
                        searchable: false
                    },
                    {
                        data: 'showDetails',
                        name: 'showDetails',
                        orderable: false,
                        searchable: false
                    }
                ]
            });


            const fetchAndPopulateSurveyors = () => {
                listContainer = $('#survery-list')
                $.ajax({
                    url: '{{ route('property.getSurveyors', $property->id) }}',
                    type: 'GET',
                    dataType: 'json',
                    success: function(data) {
                        listContainer.html('');
                        data.forEach((surveyor, i) => {
                            listContainer.append(`<li class="survey-list-li mr-2 mb-2">
                                <div class="d-flex justify-content-around">
                                    <div class="d-flex justify-content-center align-items-center"><span class="info font-16 mr-1">${surveyor?.name}</span><span class="font-12">(${surveyor?.survey_date})</span></div>
                                    <div>
                                        <span>
                                            <i onclick="deleteSurveyor(${surveyor.id})" class="pointer dripicons-cross"></i>
                                        </span>
                                    </div>
                                </div>
                            </li>`)
                        })
                    }
                });
            }

            const removeSurveyor = (id) => {
                let removeUrl = `{{ route('property.removeSurveyor', 'delete_id') }}`;
                $.ajax({
                    url: removeUrl.replace('delete_id', id),
                    type: 'GET',
                    dataType: 'json',
                    success: function(data) {
                        fetchAndPopulateSurveyors();
                    }
                })
            }

            const deleteSurveyor = (id) => {
                if (confirm('Are you are sure you want to remove this surveyor?')) {
                    removeSurveyor(id);
                }
            }


            fetchAndPopulateSurveyors();

            $('#add-surveyor-form').submit((e) => {

                e.preventDefault();

                const surveyDate = $('#survery-date-picker').val();
                const surveyorId = $('#surveyors-dropdown').val();

                if (surveyDate && surveyorId && confirm(
                        'Are you sure you want to add this surveyor to the property?')) {

                    $.ajax({
                        url: '{{ route('property.assignSurveyor', $property->id) }}',
                        type: 'POST',
                        dataType: 'json',
                        contentType: "application/json",
                        data: JSON.stringify({
                            survey_date: surveyDate,
                            surveyor_id: surveyorId,
                            property_id: {{ $property->id }}
                        }),
                        success: function(data) {
                            fetchAndPopulateSurveyors();
                        }
                    });

                }
            })

            $(document).ready(function() {

                $('#property_inspection_table').DataTable({
                    order: [
                        [1, 'desc']
                    ],
                    lengthMenu: [
                        [10, 25, 50, 100, 250, 500],
                        [10, 25, 50, 100, 250, 500],
                    ],
                    dom: 'fBrtlp',
                    buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
                });
                $('#property_inspection_table2').DataTable({
                    order: [
                        [1, 'desc']
                    ],
                    lengthMenu: [
                        [10, 25, 50, 100, 250, 500],
                        [10, 25, 50, 100, 250, 500],
                    ],
                    dom: 'fBrtlp',
                    buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
                });
                $('#property_inspection_table3').DataTable({
                    order: [
                        [1, 'desc']
                    ],
                    lengthMenu: [
                        [10, 25, 50, 100, 250, 500],
                        [10, 25, 50, 100, 250, 500],
                    ],
                    dom: 'fBrtlp',
                    buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
                });
                $('#property_snags_table').DataTable({
                    order: [
                        [1, 'desc']
                    ],
                    lengthMenu: [
                        [10, 25, 50, 100, 250, 500],
                        [10, 25, 50, 100, 250, 500],
                    ],
                    dom: 'fBrtlp',
                    buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
                });
            });

            $(document).ready(function() {
                $('#property-assessor-body1').DataTable({
                    order: [
                        [1, 'desc']
                    ],
                    lengthMenu: [
                        [10, 25, 50, 100, 250, 500],
                        [10, 25, 50, 100, 250, 500],
                    ],
                    dom: 'fBrtlp',
                    buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
                });
            });
        @endif
        $('#toolbox-talk-datatable').DataTable({
        dom: 'fBrtlp',
        buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
        order: [[0, "desc"]],
        serverSide: true,
        responsive: true,
        select: true,
        pageLength: 25,
        "processing": true,
        empty: 'fff',
        "language": {
            processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
        },
        ajax: {
            url: "{{route('toolboxTalk')}}"
        },
        columns: [
            { data: 'id', name: 'id' },
            { data: 'talk_title', name: 'talk_title' },
            { data: 'is_archived', name: 'is_archived'  },
            { data: 'actions', name: 'actions', orderable: false, searchable: false }
        ]
    });

    $('#toolbox-talk-items-datatable').DataTable({
        dom: 'fBrtlp',
        buttons: [{
                        extend: 'collection',
                        text: 'Export',
                        buttons: [
                            'copy',
                            'excel',
                            'csv',
                            'pdf',
                            'print'
                        ]
                    }],
        order: [[0, "desc"]],
        serverSide: true,
        responsive: true,
        select: true,
        pageLength: 10,
        "processing": true,
        empty: 'fff',
        "language": {
            processing: '<i class="text-primary mdi mdi-spin mdi-loading mr-3 mdi-20px"></i><span class="sr-only">Loading...</span> '
        },
        ajax: {
            url: "{{route('toolboxTalk.getToolboxTalkItems', isset($toolbox_talk) ? $toolbox_talk->id : 0)}}"
        },
        columns: [
            {data: 'id', name: 'id'},
            {data: 'toolbox_item', name: 'toolbox_item'},
            {data: 'actions', name: 'actions', orderable: false, searchable: false}
        ]
    });
        function showSurveyorLogDetails(id = 0) {
            const IMAGE_BASE_PATH = "{{ asset('/' . $APP_BASE_IMAGE_PATH . '/assets/uploads/user_signinout/') }}";
            $.ajax({
                url: "{{ route('property.surveyorLogDetails', 'log_id') }}".replace('log_id', id),
                type: 'GET',
                dataType: 'json',
                contentType: "application/json",
                success: function(data) {
                    let signInColumns = '';
                    for (let i = 1; i <= 15; i++) {
                        if (data['signin_image' + i]) {
                            console.log(data['signin_image' + i]);
                            signInColumns += `<div class="col-sm-12 p-2">
                                        <img src="${IMAGE_BASE_PATH}/${data['signin_image'+i]}" class="img-fluid">
                                    </div>`;
                        }
                    }

                    let signOutColumns = '';

                    for (let i = 1; i <= 15; i++) {
                        if (data['signout_image' + i]) {
                            console.log(data['signout_image' + i]);
                            signOutColumns += `<div class="col-sm-12 p-2">
                                        <img src="${IMAGE_BASE_PATH}/${data['signout_image'+i]}" class="img-fluid">
                                    </div>`;
                        }
                    }

                    const [signin_year, signin_month, signin_day] = (data?.sign_date || '0000-00-00').split(
                        '-');
                    const [signout_year, signout_month, signout_day] = (data?.sign_e_date || '0000-00-00').split
                        ('-');

                    let html = `<div>
                        <div class="d-flex align-items-center">
                            <h4>Sign In </h4> <span> <small> &nbsp ${signin_day}/${signin_month}/${signin_year} ${data?.sign_time?.substr(0, 5)} </small></span>
                        </div>
                        <div>
                            <p>${data?.text}</p>
                        </div>
                        <div class="row">${signInColumns}</div>

                        <br>

                        <div class="d-flex align-items-center">
                            <h4>Sign Out </h4> <span> <small> &nbsp ${signout_day}/${signout_month}/${signout_year} ${data?.sign_e_time?.substr(0, 5) || '00:00'} </small></span>
                        </div>
                        <div>
                            <p>${data?.signout_text}</p>
                        </div>
                        <div class="row">${signOutColumns}</div>
                    <div>`;

                    $('#surveyor-log-detail-model-body').html(html);

                    $('#surveyor-log-detail-model').modal('show');
                }
            });

        }

        function closeSurveyorLogModal() {
            $('#surveyor-log-detail-model').modal('hide');
        }


        // Calendar JS:: start here
        // document.addEventListener('DOMContentLoaded', function() {
        //     var calendarEl = document.getElementById('job-calendar');
        //     var calendar = new FullCalendar.Calendar(calendarEl, {
        //         eventSources: getCalendarEvents,
        //         headerToolbar: {
        //             start: 'prev,next',
        //             center: 'title',
        //             end: 'today'
        //         },
        //         navLinks: true,
        //         eventClick: function(info) {
        //             console.log(info.event);
        //             $('#calendar_modal_title').html(info.event.extendedProps.address);
        //             $('#calendar-modal-body').html(`<table class="table">
    //             <tbody>
    //                 <tr>
    //                 <td>Job</td>
    //                 <td>`+info.event.title+`</td>
    //                 </tr>
    //                 <tr>
    //                 <td>Contractor Name</td>
    //                 <td>`+info.event.extendedProps.contractor_name+`</td>
    //                 </tr>
    //                 <tr>
    //                 <tr>
    //                 <td>Contractor Email</td>
    //                 <td>`+info.event.extendedProps.contractor_email+`</td>
    //                 </tr>
    //                 <tr>
    //                 <tr>
    //                 <td>Contractor Phone</td>
    //                 <td>`+info.event.extendedProps.contractor_phone+`</td>
    //                 </tr>
    //                 <tr>
    //                 <td>Surveyor Name</td>
    //                 <td>`+info.event.extendedProps.surveyor_name+`</td>
    //                 </tr>
    //                 <tr>
    //                 <td>Surveyor Phone</td>
    //                 <td>`+info.event.extendedProps.surveyor_phone+`</td>
    //                 </tr>
    //                 <tr>
    //                 <td>Status</td>
    //                 <td><span class="pointer badge `+info.event.extendedProps.status_class+` text-uppercase">`+info.event.extendedProps.status+`</span></td>
    //                 </tr>
    //                 <tr>
    //                 <td>Property</td>
    //                 <td><a href="/dashboard/property/show/`+info.event.extendedProps.action_url+`">`+info.event.extendedProps.address+`</a></td>
    //                 </tr>
    //             </tbody>
    //             </table>`);

        //             $('#calendarModal').modal('show');
        //         }
        //     });
        //     calendar.render();

        //     $("#calendar_jobs,#calendar_start_date,#calendar_end_date").on("change", function(e){
        //         calendar.refetchEvents();
        //     });
        // });


        // var getCalendarEvents = function(fetchInfo, successCallback, failureCallback) {
        //     var jobs = $("#calendar_jobs").val();
        //     var start_date = $("#calendar_start_date").val();
        //     var end_date = $("#calendar_end_date").val();
        //     $.ajax({
        //         url: "{{ route('dashboard.calendar') }}",
        //         type: "POST",
        //         data: {
        //             jobs: jobs,
        //             start_date: start_date,
        //             end_date: end_date
        //         },
        //         success: function (response) {
        //             successCallback(response);
        //         }
        //     });
        // }

        // function closeModal() {
        //     $('#calendarModal').modal('hide');
        // }

        // Calendar JS:: end here
    </script>

</body>

</html>
